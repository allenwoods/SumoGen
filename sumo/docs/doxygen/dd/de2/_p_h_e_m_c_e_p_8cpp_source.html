<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>SUMO - Simulation of Urban MObility: PHEMCEP.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../032x032.bmp"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SUMO - Simulation of Urban MObility
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dd/de2/_p_h_e_m_c_e_p_8cpp_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">PHEMCEP.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dd/de2/_p_h_e_m_c_e_p_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/****************************************************************************/</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// Helper class for PHEM Light, holds a specific CEP for a PHEM emission class</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/****************************************************************************/</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// SUMO, Simulation of Urban MObility; see http://sumo.dlr.de/</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// Copyright (C) 2013-2016 DLR (http://www.dlr.de/) and contributors</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/****************************************************************************/</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//   This file is part of SUMO.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//   SUMO is free software: you can redistribute it and/or modify</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//   it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//   the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//   (at your option) any later version.</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/****************************************************************************/</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// ===========================================================================</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// included modules</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// ===========================================================================</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d3/d99/windows__config_8h.html">windows_config.h</a>&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../db/d16/config_8h.html">config.h</a>&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../da/dbd/_std_defs_8h.html">utils/common/StdDefs.h</a>&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d6/d11/_string_bijection_8h.html">utils/common/StringBijection.h</a>&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d7/db4/_util_exceptions_8h.html">utils/common/UtilExceptions.h</a>&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/dec/_p_h_e_m_c_e_p_8h.html">PHEMCEP.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#ifdef CHECK_MEMORY_LEAKS</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d7/d8d/debug__new_8h.html">foreign/nvwa/debug_new.h</a>&gt;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#endif // CHECK_MEMORY_LEAKS</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">// ===========================================================================</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// method definitions</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">// ===========================================================================</span></div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#af2c41b92bd5e38b974144b6bda9be1d6">   49</a></span>&#160;<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#af2c41b92bd5e38b974144b6bda9be1d6">PHEMCEP::PHEMCEP</a>(<span class="keywordtype">bool</span> heavyVehicle, <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#a17f646499bc7f35c01e8cde03c637db5">SUMOEmissionClass</a> emissionClass, <span class="keyword">const</span> std::string&amp; emissionClassIdentifier,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                 <span class="keywordtype">double</span> vehicleMass, <span class="keywordtype">double</span> vehicleLoading, <span class="keywordtype">double</span> vehicleMassRot,</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                 <span class="keywordtype">double</span> crossArea, <span class="keywordtype">double</span> cdValue,</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                 <span class="keywordtype">double</span> f0, <span class="keywordtype">double</span> f1, <span class="keywordtype">double</span> f2, <span class="keywordtype">double</span> f3, <span class="keywordtype">double</span> f4,</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                 <span class="keywordtype">double</span> ratedPower, <span class="keywordtype">double</span> pNormV0, <span class="keywordtype">double</span> pNormP0, <span class="keywordtype">double</span> pNormV1, <span class="keywordtype">double</span> pNormP1,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                 <span class="keywordtype">double</span> axleRatio, <span class="keywordtype">double</span> engineIdlingSpeed, <span class="keywordtype">double</span> engineRatedSpeed, <span class="keywordtype">double</span> effectiveWheelDiameter,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                 <span class="keywordtype">double</span> idlingFC,</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                 <span class="keyword">const</span> std::string&amp; vehicleFuelType,</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                 <span class="keyword">const</span> std::vector&lt; std::vector&lt;double&gt; &gt;&amp; matrixFC,</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                 <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; headerLinePollutants,</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                 <span class="keyword">const</span> std::vector&lt; std::vector&lt;double&gt; &gt;&amp; matrixPollutants,</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                 <span class="keyword">const</span> std::vector&lt; std::vector&lt;double&gt; &gt;&amp; matrixSpeedRotational,</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                 <span class="keyword">const</span> std::vector&lt; std::vector&lt;double&gt; &gt;&amp; normedDragTable,</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                 <span class="keyword">const</span> std::vector&lt;double&gt;&amp; idlingValuesPollutants) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aa1aff80fdc0d361ac6db340efbaebb47">_emissionClass</a> = emissionClass;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a80433e41dde8a881d52241fe73cb7a3d">_resistanceF0</a> = f0;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a78bf65ce4b824cba2ac6e8f58d848c2e">_resistanceF1</a> = f1;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a550159575fa74362b5e3f116bbb45c98">_resistanceF2</a> = f2;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a0e682f9b39b687eea58bb130e3fa8494">_resistanceF3</a> = f3;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a753e1b0fb9102a9875eff5e71ae26cc9">_resistanceF4</a> = f4;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#af8cab6c00edae01097d13661732894b7">_cdValue</a> = cdValue;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#af2ea05b8cad2d059c541f43821f589fb">_crossSectionalArea</a> = crossArea;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8fa328537e70fef34f6405cd117e4311">_massVehicle</a> = vehicleMass;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a32fe214351cc3c80953d1b93f6b84084">_vehicleLoading</a> = vehicleLoading;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#acee9c58e7a0db49e5669e738b13403ed">_massRot</a> = vehicleMassRot;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aca7a3b16532fcd9c31db8637d6488523">_ratedPower</a> = ratedPower;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a3858f999800d45ad73b63bb88375c6f2">_vehicleFuelType</a> = vehicleFuelType;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a0ee38b8faaa1527e81c9cb329e592e5f">_pNormV0</a> = pNormV0 / 3.6;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a9bd82a747b05cdd28500e94cc4c0fb5b">_pNormP0</a> = pNormP0;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a4a0576467ebf3c3e490099e959ff45d3">_pNormV1</a> = pNormV1 / 3.6;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a4cd5d8069e06471bc29bf70e9a0cca72">_pNormP1</a> = pNormP1;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a90c55598d9911903771f3799a0841e2d">_axleRatio</a> = axleRatio;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a59cbaa51bf714f991df22a1a897755c4">_engineIdlingSpeed</a> = engineIdlingSpeed;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aff1c9a068342b99ae42433f1b0c74c8d">_engineRatedSpeed</a> = engineRatedSpeed;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a1e93e34b8e65f84fd10fa45f3128a31a">_effictiveWheelDiameter</a> = effectiveWheelDiameter;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#af93799fba55f6dbce4f7e18981b3719c">_heavyVehicle</a> = heavyVehicle;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a1fd7cc054cfbe524ddbf4c20fceaa8b2">_idlingFC</a> = idlingFC;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    std::vector&lt;std::string&gt; pollutantIdentifier;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    std::vector&lt; std::vector&lt;double&gt; &gt; pollutantMeasures;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    std::vector&lt;std::vector&lt;double&gt; &gt; normalizedPollutantMeasures;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// init pollutant identifiers</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)headerLinePollutants.size(); i++) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        pollutantIdentifier.push_back(headerLinePollutants[i]);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    } <span class="comment">// end for</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// get size of powerPatterns</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a35c0bc6eeaa2e3d6a77cc42552896828">_sizeOfPatternFC</a> = (int)matrixFC.size();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ac5686d49fe6832ae3a0b74875bdc9b42">_sizeOfPatternPollutants</a> = (int)matrixPollutants.size();</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// initialize measures</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)headerLinePollutants.size(); i++) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        pollutantMeasures.push_back(std::vector&lt;double&gt;());</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        normalizedPollutantMeasures.push_back(std::vector&lt;double&gt;());</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    } <span class="comment">// end for</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// looping through matrix and assigning values for speed rotational table</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a238dfe5c8d274747dfca1c4fb3f9a23e">_speedCurveRotational</a>.clear();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab54dc2933516426b189a7116145bf8d2">_speedPatternRotational</a>.clear();</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ada1e7ac1c368dd1cc46d9c2b5fcafe4a">_gearTransmissionCurve</a>.clear();</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)matrixSpeedRotational.size(); i++) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">if</span> (matrixSpeedRotational[i].size() != 3) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="keywordflow">throw</span> <a class="code" href="../../d3/d68/class_invalid_argument.html">InvalidArgument</a>(<span class="stringliteral">&quot;Error loading vehicle file for: &quot;</span> + emissionClassIdentifier);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab54dc2933516426b189a7116145bf8d2">_speedPatternRotational</a>.push_back(matrixSpeedRotational[i][0] / 3.6);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a238dfe5c8d274747dfca1c4fb3f9a23e">_speedCurveRotational</a>.push_back(matrixSpeedRotational[i][1]);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ada1e7ac1c368dd1cc46d9c2b5fcafe4a">_gearTransmissionCurve</a>.push_back(matrixSpeedRotational[i][2]);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    } <span class="comment">// end for</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// looping through matrix and assigning values for drag table</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a5648b36d53a02804c24ac955f35bfa35">_nNormTable</a>.clear();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aabaef2f6a9c13d665c03617cc5d5adc4">_dragNormTable</a>.clear();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int) normedDragTable.size(); i++) {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">if</span> (normedDragTable[i].size() != 2) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a5648b36d53a02804c24ac955f35bfa35">_nNormTable</a>.push_back(normedDragTable[i][0]);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aabaef2f6a9c13d665c03617cc5d5adc4">_dragNormTable</a>.push_back(normedDragTable[i][1]);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    } <span class="comment">// end for</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">// looping through matrix and assigning values for Fuel consumption</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8851e7b563b6cf7b68780d31f93a976e">_cepCurveFC</a>.clear();</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab91bfee240f7b8a6a590d062672315fa">_powerPatternFC</a>.clear();</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ae8de5258970868b01cb6c46f0dfc7860">_normalizedPowerPatternFC</a>.clear();</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a87e57a02045a13c34ff968ba93c14916">_normedCepCurveFC</a>.clear();</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)matrixFC.size(); i++) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">if</span> (matrixFC[i].size() != 2) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">throw</span> <a class="code" href="../../d3/d68/class_invalid_argument.html">InvalidArgument</a>(<span class="stringliteral">&quot;Error loading vehicle file for: &quot;</span> + emissionClassIdentifier);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab91bfee240f7b8a6a590d062672315fa">_powerPatternFC</a>.push_back(matrixFC[i][0] * <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aca7a3b16532fcd9c31db8637d6488523">_ratedPower</a>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ae8de5258970868b01cb6c46f0dfc7860">_normalizedPowerPatternFC</a>.push_back(matrixFC[i][0]);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8851e7b563b6cf7b68780d31f93a976e">_cepCurveFC</a>.push_back(matrixFC[i][1] * _ratedPower);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a87e57a02045a13c34ff968ba93c14916">_normedCepCurveFC</a>.push_back(matrixFC[i][1]);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    } <span class="comment">// end for</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8d2fe6affceb1d0f7a61f7829cb29034">_powerPatternPollutants</a>.clear();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordtype">double</span> pollutantMultiplyer = 1;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a9f8977321db108222a3d2816ab69eab3">_drivingPower</a> = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#adbba716269a9bae7cc56137a6354f319">_normalizingPower</a> = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aaa23b82124f5aa50457ab5f125a6433c">CalcPower</a>(<a class="code" href="../../d5/dc3/_p_h_e_m_constants_8h.html#adf25cdc9d801371d6e9834fec0ec8461">NORMALIZING_SPEED</a>, <a class="code" href="../../d5/dc3/_p_h_e_m_constants_8h.html#ac688f1b6d310d401bf80600b27675217">NORMALIZING_ACCELARATION</a>, 0, vehicleLoading);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">// looping through matrix and assigning values for pollutants</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (heavyVehicle) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#adbba716269a9bae7cc56137a6354f319">_normalizingPower</a> = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aca7a3b16532fcd9c31db8637d6488523">_ratedPower</a>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        pollutantMultiplyer = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aca7a3b16532fcd9c31db8637d6488523">_ratedPower</a>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab4be68a0c3bcf2a3715f610db245e820">_normalizingType</a> = <a class="code" href="../../d0/dec/_p_h_e_m_c_e_p_8h.html#ac85573ffca4477fca18103c3639fa4bea0c1ef21a253e38fafdb04f3b5cdaf6a7">RatedPower</a>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#adbba716269a9bae7cc56137a6354f319">_normalizingPower</a> = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a9f8977321db108222a3d2816ab69eab3">_drivingPower</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab4be68a0c3bcf2a3715f610db245e820">_normalizingType</a> = <a class="code" href="../../d0/dec/_p_h_e_m_c_e_p_8h.html#ac85573ffca4477fca18103c3639fa4bea7494bef32b1ac2874ed8442c8aed8bee">DrivingPower</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    } <span class="comment">// end if</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> headerCount = (int)headerLinePollutants.size();</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)matrixPollutants.size(); i++) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; (int)matrixPollutants[i].size(); j++) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)matrixPollutants[i].size() != headerCount + 1) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="keywordflow">if</span> (j == 0) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8e0a99e2cdbf6078d36f78d7673c8795">_normailzedPowerPatternPollutants</a>.push_back(matrixPollutants[i][j]);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8d2fe6affceb1d0f7a61f7829cb29034">_powerPatternPollutants</a>.push_back(matrixPollutants[i][j] * <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#adbba716269a9bae7cc56137a6354f319">_normalizingPower</a>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                pollutantMeasures[j - 1].push_back(matrixPollutants[i][j] * pollutantMultiplyer);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                normalizedPollutantMeasures[j - 1].push_back(matrixPollutants[i][j]);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            } <span class="comment">// end if</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        } <span class="comment">// end for</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    } <span class="comment">// end for</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int) headerLinePollutants.size(); i++) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a287b206a1b1b48374ebcceebb0b9c00a">_cepCurvePollutants</a>.<a class="code" href="../../d5/d41/class_string_bijection.html#af019d76583c63cdb2bf8910943512f56">insert</a>(pollutantIdentifier[i], pollutantMeasures[i]);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#add82070f75e5f8c62620472d66b5c750">_normalizedCepCurvePollutants</a>.<a class="code" href="../../d5/d41/class_string_bijection.html#af019d76583c63cdb2bf8910943512f56">insert</a>(pollutantIdentifier[i], normalizedPollutantMeasures[i]);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aba3646d0771dec754907e8bee288723c">_idlingValuesPollutants</a>.<a class="code" href="../../d5/d41/class_string_bijection.html#af019d76583c63cdb2bf8910943512f56">insert</a>(pollutantIdentifier[i], idlingValuesPollutants[i] * pollutantMultiplyer);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    } <span class="comment">// end for</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a1fd7cc054cfbe524ddbf4c20fceaa8b2">_idlingFC</a> = idlingFC * <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aca7a3b16532fcd9c31db8637d6488523">_ratedPower</a>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;} <span class="comment">// end of Cep</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a94782752dbfd23c20a9783aa3a61b805">  197</a></span>&#160;<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a94782752dbfd23c20a9783aa3a61b805">PHEMCEP::~PHEMCEP</a>() {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// free power pattern</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab91bfee240f7b8a6a590d062672315fa">_powerPatternFC</a>.clear();</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8d2fe6affceb1d0f7a61f7829cb29034">_powerPatternPollutants</a>.clear();</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8851e7b563b6cf7b68780d31f93a976e">_cepCurveFC</a>.clear();</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a238dfe5c8d274747dfca1c4fb3f9a23e">_speedCurveRotational</a>.clear();</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab54dc2933516426b189a7116145bf8d2">_speedPatternRotational</a>.clear();</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;} <span class="comment">// end of ~Cep</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="keywordtype">double</span></div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a463e8ac68a0a1adc42762cea141bc8b2">  208</a></span>&#160;<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a463e8ac68a0a1adc42762cea141bc8b2">PHEMCEP::GetEmission</a>(<span class="keyword">const</span> std::string&amp; pollutant, <span class="keywordtype">double</span> power, <span class="keywordtype">double</span> speed, <span class="keywordtype">bool</span> normalized)<span class="keyword"> const </span>{</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    std::vector&lt;double&gt; emissionCurve;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    std::vector&lt;double&gt; powerPattern;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (!normalized &amp;&amp; fabs(speed) &lt;= <a class="code" href="../../d5/dc3/_p_h_e_m_constants_8h.html#a734e206840a2d1d06cbcede503742a7d">ZERO_SPEED_ACCURACY</a>) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">if</span> (pollutant == <span class="stringliteral">&quot;FC&quot;</span>) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a1fd7cc054cfbe524ddbf4c20fceaa8b2">_idlingFC</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aba3646d0771dec754907e8bee288723c">_idlingValuesPollutants</a>.<a class="code" href="../../d5/d41/class_string_bijection.html#ab2a895e1f5adf60e8375d2bc9c0845f3">get</a>(pollutant);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    } <span class="comment">// end if</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">if</span> (pollutant == <span class="stringliteral">&quot;FC&quot;</span>) {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">if</span> (normalized) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            emissionCurve = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a87e57a02045a13c34ff968ba93c14916">_normedCepCurveFC</a>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            powerPattern = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ae8de5258970868b01cb6c46f0dfc7860">_normalizedPowerPatternFC</a>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            emissionCurve = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8851e7b563b6cf7b68780d31f93a976e">_cepCurveFC</a>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            powerPattern = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab91bfee240f7b8a6a590d062672315fa">_powerPatternFC</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a287b206a1b1b48374ebcceebb0b9c00a">_cepCurvePollutants</a>.<a class="code" href="../../d5/d41/class_string_bijection.html#ac312adda5c9002953a81be9189879a98">hasString</a>(pollutant)) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">throw</span> <a class="code" href="../../d3/d68/class_invalid_argument.html">InvalidArgument</a>(<span class="stringliteral">&quot;Emission pollutant &quot;</span> + pollutant + <span class="stringliteral">&quot; not found!&quot;</span>);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">if</span> (normalized) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            emissionCurve = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#add82070f75e5f8c62620472d66b5c750">_normalizedCepCurvePollutants</a>.<a class="code" href="../../d5/d41/class_string_bijection.html#ab2a895e1f5adf60e8375d2bc9c0845f3">get</a>(pollutant);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            powerPattern = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8e0a99e2cdbf6078d36f78d7673c8795">_normailzedPowerPatternPollutants</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            emissionCurve = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a287b206a1b1b48374ebcceebb0b9c00a">_cepCurvePollutants</a>.<a class="code" href="../../d5/d41/class_string_bijection.html#ab2a895e1f5adf60e8375d2bc9c0845f3">get</a>(pollutant);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            powerPattern = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8d2fe6affceb1d0f7a61f7829cb29034">_powerPatternPollutants</a>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    } <span class="comment">// end if</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">if</span> (emissionCurve.size() == 0) {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="../../d3/d68/class_invalid_argument.html">InvalidArgument</a>(<span class="stringliteral">&quot;Empty emission curve for &quot;</span> + pollutant + <span class="stringliteral">&quot; found!&quot;</span>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (emissionCurve.size() == 1) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">return</span> emissionCurve[0];</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// in case that the demanded power is smaller than the first entry (smallest) in the power pattern the first two entries are extrapolated</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> (power &lt;= powerPattern.front()) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordtype">double</span> calcEmission =  <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a7e0f7647e7206d97f12390d1bfe868d1">PHEMCEP::Interpolate</a>(power, powerPattern[0], powerPattern[1], emissionCurve[0], emissionCurve[1]);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">if</span> (calcEmission &lt; 0) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="keywordflow">return</span> calcEmission;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    } <span class="comment">// end if</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// if power bigger than all entries in power pattern the last two values are linearly extrapolated</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> (power &gt;= powerPattern.back()) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a7e0f7647e7206d97f12390d1bfe868d1">PHEMCEP::Interpolate</a>(power, powerPattern[powerPattern.size() - 2], powerPattern.back(), emissionCurve[emissionCurve.size() - 2], emissionCurve.back());</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    } <span class="comment">// end if</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">// bisection search to find correct position in power pattern</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordtype">int</span> upperIndex;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordtype">int</span> lowerIndex;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aa929e4f27e47cffd79f8bd7e4791de7e">PHEMCEP::FindLowerUpperInPattern</a>(lowerIndex, upperIndex, powerPattern, power);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a7e0f7647e7206d97f12390d1bfe868d1">PHEMCEP::Interpolate</a>(power, powerPattern[lowerIndex], powerPattern[upperIndex], emissionCurve[lowerIndex], emissionCurve[upperIndex]);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;} <span class="comment">// end of GetEmission</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="keywordtype">double</span></div><div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a7e0f7647e7206d97f12390d1bfe868d1">  282</a></span>&#160;<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a7e0f7647e7206d97f12390d1bfe868d1">PHEMCEP::Interpolate</a>(<span class="keywordtype">double</span> px, <span class="keywordtype">double</span> p1, <span class="keywordtype">double</span> p2, <span class="keywordtype">double</span> e1, <span class="keywordtype">double</span> e2)<span class="keyword"> const </span>{</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">if</span> (p2 == p1) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">return</span> e1;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">return</span> e1 + (px - p1) / (p2 - p1) * (e2 - e1);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;} <span class="comment">// end of Interpolate</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ac221258710da087a5ff90462bee3a32f">  290</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ac221258710da087a5ff90462bee3a32f">PHEMCEP::GetDecelCoast</a>(<span class="keywordtype">double</span> speed, <span class="keywordtype">double</span> acc, <span class="keywordtype">double</span> gradient, <span class="keywordtype">double</span> <span class="comment">/* vehicleLoading */</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">if</span> (speed &lt; <a class="code" href="../../d5/dc3/_p_h_e_m_constants_8h.html#a9085ad37e6dc60258ce2345df78a0b62">SPEED_DCEL_MIN</a>) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">return</span> speed / <a class="code" href="../../d5/dc3/_p_h_e_m_constants_8h.html#a9085ad37e6dc60258ce2345df78a0b62">SPEED_DCEL_MIN</a> * <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ac221258710da087a5ff90462bee3a32f">GetDecelCoast</a>(<a class="code" href="../../d5/dc3/_p_h_e_m_constants_8h.html#a9085ad37e6dc60258ce2345df78a0b62">SPEED_DCEL_MIN</a>, acc, gradient, <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a32fe214351cc3c80953d1b93f6b84084">_vehicleLoading</a>); <span class="comment">// !!!vehicleLoading</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    } <span class="comment">// end if</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">double</span> rotCoeff = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a78f61a4a3f08efc6dffe4ac0a40bfc50">GetRotationalCoeffecient</a>(speed);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordtype">int</span> upperIndex;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordtype">int</span> lowerIndex;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">double</span> iGear = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aff05e1d40e28b3a69dffcc86d1cd56a0">GetGearCoeffecient</a>(speed);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordtype">double</span> iTot = iGear * <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a90c55598d9911903771f3799a0841e2d">_axleRatio</a>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">double</span> n = (30 * speed * iTot) / ((<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a1e93e34b8e65f84fd10fa45f3128a31a">_effictiveWheelDiameter</a> / 2) * <a class="code" href="../../d5/dc3/_p_h_e_m_constants_8h.html#a4c75ab0498f3b9e14e244a479b0a505f">M_PI2</a>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordtype">double</span> nNorm = (n - <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a59cbaa51bf714f991df22a1a897755c4">_engineIdlingSpeed</a>) / (<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aff1c9a068342b99ae42433f1b0c74c8d">_engineRatedSpeed</a> - <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a59cbaa51bf714f991df22a1a897755c4">_engineIdlingSpeed</a>);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aa929e4f27e47cffd79f8bd7e4791de7e">FindLowerUpperInPattern</a>(lowerIndex, upperIndex, <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a5648b36d53a02804c24ac955f35bfa35">_nNormTable</a>, nNorm);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">double</span> fMot = 0;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (speed &gt;= 10e-2) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        fMot = (-<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a3de59bae887dc4482d7d1d7956f8ed24">GetDragCoeffecient</a>(nNorm) * <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aca7a3b16532fcd9c31db8637d6488523">_ratedPower</a> * 1000 / speed) / 0.9;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    } <span class="comment">// end if</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordtype">double</span> fRoll = (<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a80433e41dde8a881d52241fe73cb7a3d">_resistanceF0</a></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                    + <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a78bf65ce4b824cba2ac6e8f58d848c2e">_resistanceF1</a> * speed</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                    + pow(<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a550159575fa74362b5e3f116bbb45c98">_resistanceF2</a> * speed, 2)</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                    + pow(<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a0e682f9b39b687eea58bb130e3fa8494">_resistanceF3</a> * speed, 3)</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    + pow(<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a753e1b0fb9102a9875eff5e71ae26cc9">_resistanceF4</a> * speed, 4)) * (<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8fa328537e70fef34f6405cd117e4311">_massVehicle</a> + <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a32fe214351cc3c80953d1b93f6b84084">_vehicleLoading</a>) * <a class="code" href="../../d5/dc3/_p_h_e_m_constants_8h.html#ab7bd181137f3342de1065599c2e48b17">GRAVITY_CONST</a>; <span class="comment">// !!!vehicleLoading</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordtype">double</span> fAir = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#af8cab6c00edae01097d13661732894b7">_cdValue</a> * <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#af2ea05b8cad2d059c541f43821f589fb">_crossSectionalArea</a> * 1.2 * 0.5 * pow(speed, 2);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordtype">double</span> fGrad = (<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8fa328537e70fef34f6405cd117e4311">_massVehicle</a> + <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a32fe214351cc3c80953d1b93f6b84084">_vehicleLoading</a>) * <a class="code" href="../../d5/dc3/_p_h_e_m_constants_8h.html#ab7bd181137f3342de1065599c2e48b17">GRAVITY_CONST</a> * gradient / 100; <span class="comment">// !!!vehicleLoading</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">return</span> -(fMot + fRoll + fAir + fGrad) / ((<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8fa328537e70fef34f6405cd117e4311">_massVehicle</a> + <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a32fe214351cc3c80953d1b93f6b84084">_vehicleLoading</a>) * rotCoeff); <span class="comment">// !!!vehicleLoading</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;} <span class="comment">// end of GetDecelCoast</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="keywordtype">double</span></div><div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a78f61a4a3f08efc6dffe4ac0a40bfc50">  330</a></span>&#160;<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a78f61a4a3f08efc6dffe4ac0a40bfc50">PHEMCEP::GetRotationalCoeffecient</a>(<span class="keywordtype">double</span> speed)<span class="keyword"> const </span>{</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordtype">int</span> upperIndex;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordtype">int</span> lowerIndex;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aa929e4f27e47cffd79f8bd7e4791de7e">PHEMCEP::FindLowerUpperInPattern</a>(lowerIndex, upperIndex, <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab54dc2933516426b189a7116145bf8d2">_speedPatternRotational</a>, speed);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a7e0f7647e7206d97f12390d1bfe868d1">PHEMCEP::Interpolate</a>(speed,</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                                <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab54dc2933516426b189a7116145bf8d2">_speedPatternRotational</a>[lowerIndex],</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                                <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab54dc2933516426b189a7116145bf8d2">_speedPatternRotational</a>[upperIndex],</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                                <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a238dfe5c8d274747dfca1c4fb3f9a23e">_speedCurveRotational</a>[lowerIndex],</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a238dfe5c8d274747dfca1c4fb3f9a23e">_speedCurveRotational</a>[upperIndex]);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;} <span class="comment">// end of GetRotationalCoeffecient</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aff05e1d40e28b3a69dffcc86d1cd56a0">  343</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aff05e1d40e28b3a69dffcc86d1cd56a0">PHEMCEP::GetGearCoeffecient</a>(<span class="keywordtype">double</span> speed)<span class="keyword"> const </span>{</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordtype">int</span> upperIndex;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordtype">int</span> lowerIndex;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aa929e4f27e47cffd79f8bd7e4791de7e">FindLowerUpperInPattern</a>(lowerIndex, upperIndex, <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ada1e7ac1c368dd1cc46d9c2b5fcafe4a">_gearTransmissionCurve</a>, speed);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a7e0f7647e7206d97f12390d1bfe868d1">Interpolate</a>(speed,</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                       <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab54dc2933516426b189a7116145bf8d2">_speedPatternRotational</a>[lowerIndex],</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                       <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab54dc2933516426b189a7116145bf8d2">_speedPatternRotational</a>[upperIndex],</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                       <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ada1e7ac1c368dd1cc46d9c2b5fcafe4a">_gearTransmissionCurve</a>[lowerIndex],</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                       <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ada1e7ac1c368dd1cc46d9c2b5fcafe4a">_gearTransmissionCurve</a>[upperIndex]);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;} <span class="comment">// end of GetGearCoefficient</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a3de59bae887dc4482d7d1d7956f8ed24">  356</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a3de59bae887dc4482d7d1d7956f8ed24">PHEMCEP::GetDragCoeffecient</a>(<span class="keywordtype">double</span> nNorm)<span class="keyword">  const </span>{</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordtype">int</span> upperIndex;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordtype">int</span> lowerIndex;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aa929e4f27e47cffd79f8bd7e4791de7e">FindLowerUpperInPattern</a>(lowerIndex, upperIndex, <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aabaef2f6a9c13d665c03617cc5d5adc4">_dragNormTable</a>, nNorm);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a7e0f7647e7206d97f12390d1bfe868d1">Interpolate</a>(nNorm,</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                       <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a5648b36d53a02804c24ac955f35bfa35">_nNormTable</a>[lowerIndex],</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                       <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a5648b36d53a02804c24ac955f35bfa35">_nNormTable</a>[upperIndex],</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                       <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aabaef2f6a9c13d665c03617cc5d5adc4">_dragNormTable</a>[lowerIndex],</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                       <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aabaef2f6a9c13d665c03617cc5d5adc4">_dragNormTable</a>[upperIndex]);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;} <span class="comment">// end of GetGearCoefficient</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aa929e4f27e47cffd79f8bd7e4791de7e">  369</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aa929e4f27e47cffd79f8bd7e4791de7e">PHEMCEP::FindLowerUpperInPattern</a>(<span class="keywordtype">int</span>&amp; lowerIndex, <span class="keywordtype">int</span>&amp; upperIndex, <span class="keyword">const</span> std::vector&lt;double&gt;&amp; pattern, <span class="keywordtype">double</span> value)<span class="keyword"> const </span>{</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> (value &lt;= pattern.front()) {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        lowerIndex = 0;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        upperIndex = 0;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    } <span class="comment">// end if</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">if</span> (value &gt;= pattern.back()) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        lowerIndex = (int)pattern.size() - 1;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        upperIndex = (int)pattern.size() - 1;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    } <span class="comment">// end if</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">// bisection search to find correct position in power pattern</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordtype">int</span> middleIndex = ((int)pattern.size() - 1) / 2;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    upperIndex = (int)pattern.size() - 1;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    lowerIndex = 0;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">while</span> (upperIndex - lowerIndex &gt; 1) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">if</span> (pattern[middleIndex] == value) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            lowerIndex = middleIndex;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            upperIndex = middleIndex;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pattern[middleIndex] &lt; value) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            lowerIndex = middleIndex;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            middleIndex = (upperIndex - lowerIndex) / 2 + lowerIndex;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            upperIndex = middleIndex;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            middleIndex = (upperIndex - lowerIndex) / 2 + lowerIndex;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        } <span class="comment">// end if</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    } <span class="comment">// end while</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (pattern[lowerIndex] &lt;= value &amp;&amp; value &lt; pattern[upperIndex]) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="../../da/d18/class_process_error.html">ProcessError</a>(<span class="stringliteral">&quot;Error during calculation of position in pattern!&quot;</span>);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;} <span class="comment">// end of FindLowerUpperInPattern</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="keywordtype">double</span></div><div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aaa23b82124f5aa50457ab5f125a6433c">  411</a></span>&#160;<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aaa23b82124f5aa50457ab5f125a6433c">PHEMCEP::CalcPower</a>(<span class="keywordtype">double</span> v, <span class="keywordtype">double</span> a, <span class="keywordtype">double</span> slope, <span class="keywordtype">double</span> <span class="comment">/* vehicleLoading */</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> rotFactor = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a78f61a4a3f08efc6dffe4ac0a40bfc50">GetRotationalCoeffecient</a>(v);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordtype">double</span> power = (<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8fa328537e70fef34f6405cd117e4311">_massVehicle</a> + <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a32fe214351cc3c80953d1b93f6b84084">_vehicleLoading</a>) * <a class="code" href="../../d5/dc3/_p_h_e_m_constants_8h.html#ab7bd181137f3342de1065599c2e48b17">GRAVITY_CONST</a> * (<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a80433e41dde8a881d52241fe73cb7a3d">_resistanceF0</a> + <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a78bf65ce4b824cba2ac6e8f58d848c2e">_resistanceF1</a> * v + <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a753e1b0fb9102a9875eff5e71ae26cc9">_resistanceF4</a> * pow(v, 4)) * v;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    power += (<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#af2ea05b8cad2d059c541f43821f589fb">_crossSectionalArea</a> * <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#af8cab6c00edae01097d13661732894b7">_cdValue</a> * <a class="code" href="../../d5/dc3/_p_h_e_m_constants_8h.html#a6dc31c2fedd98a544d73a65b40982e13">AIR_DENSITY_CONST</a> / 2) * pow(v, 3);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    power += (<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8fa328537e70fef34f6405cd117e4311">_massVehicle</a> * rotFactor + <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#acee9c58e7a0db49e5669e738b13403ed">_massRot</a> + <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a32fe214351cc3c80953d1b93f6b84084">_vehicleLoading</a>) * a * v;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    power += (<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8fa328537e70fef34f6405cd117e4311">_massVehicle</a> + <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a32fe214351cc3c80953d1b93f6b84084">_vehicleLoading</a>) * slope * 0.01 * v;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">return</span> power / 950.;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="keywordtype">double</span></div><div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a6f835e70f9dd9b28d28b7edb77278a9e">  422</a></span>&#160;<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a6f835e70f9dd9b28d28b7edb77278a9e">PHEMCEP::GetMaxAccel</a>(<span class="keywordtype">double</span> v, <span class="keywordtype">double</span> a, <span class="keywordtype">double</span> gradient, <span class="keywordtype">double</span> <span class="comment">/* vehicleLoading */</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="../../da/dbd/_std_defs_8h.html#a3c95a90e7806e4b0d21edfae15b73465">UNUSED_PARAMETER</a>(a);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordtype">double</span> rotFactor = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a78f61a4a3f08efc6dffe4ac0a40bfc50">GetRotationalCoeffecient</a>(v);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> pMaxForAcc = <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ace5c14715d0d78e0a43cfd35a2bfdb6f">GetPMaxNorm</a>(v) * <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aca7a3b16532fcd9c31db8637d6488523">_ratedPower</a> - <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aaa23b82124f5aa50457ab5f125a6433c">PHEMCEP::CalcPower</a>(v, 0, gradient, <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a32fe214351cc3c80953d1b93f6b84084">_vehicleLoading</a>); <span class="comment">// !!!vehicleLoading</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">return</span> (pMaxForAcc * 1000) / ((<a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8fa328537e70fef34f6405cd117e4311">_massVehicle</a> * rotFactor + <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#acee9c58e7a0db49e5669e738b13403ed">_massRot</a> + <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a32fe214351cc3c80953d1b93f6b84084">_vehicleLoading</a>) * v); <span class="comment">// !!!vehicleLoading</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ace5c14715d0d78e0a43cfd35a2bfdb6f">  431</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ace5c14715d0d78e0a43cfd35a2bfdb6f">PHEMCEP::GetPMaxNorm</a>(<span class="keywordtype">double</span> speed)<span class="keyword"> const </span>{</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="comment">// Linear function between v0 and v1, constant elsewhere</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span> (speed &lt;= <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a0ee38b8faaa1527e81c9cb329e592e5f">_pNormV0</a>) {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a9bd82a747b05cdd28500e94cc4c0fb5b">_pNormP0</a>;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (speed &gt;= <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a4a0576467ebf3c3e490099e959ff45d3">_pNormV1</a>) {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a4cd5d8069e06471bc29bf70e9a0cca72">_pNormP1</a>;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a7e0f7647e7206d97f12390d1bfe868d1">PHEMCEP::Interpolate</a>(speed, <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a0ee38b8faaa1527e81c9cb329e592e5f">_pNormV0</a>, <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a4a0576467ebf3c3e490099e959ff45d3">_pNormV1</a>, <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a9bd82a747b05cdd28500e94cc4c0fb5b">_pNormP0</a>, <a class="code" href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a4cd5d8069e06471bc29bf70e9a0cca72">_pNormP1</a>);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;} <span class="comment">// end of GetPMaxNorm</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">/****************************************************************************/</span></div><div class="ttc" id="class_invalid_argument_html"><div class="ttname"><a href="../../d3/d68/class_invalid_argument.html">InvalidArgument</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/_util_exceptions_8h_source.html#l00066">UtilExceptions.h:66</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_ab91bfee240f7b8a6a590d062672315fa"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab91bfee240f7b8a6a590d062672315fa">PHEMCEP::_powerPatternFC</a></div><div class="ttdeci">std::vector&lt; double &gt; _powerPatternFC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00313">PHEMCEP.h:313</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_aa929e4f27e47cffd79f8bd7e4791de7e"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aa929e4f27e47cffd79f8bd7e4791de7e">PHEMCEP::FindLowerUpperInPattern</a></div><div class="ttdeci">void FindLowerUpperInPattern(int &amp;lowerIndex, int &amp;upperIndex, const std::vector&lt; double &gt; &amp;pattern, double value) const </div><div class="ttdoc">Finds bounding upper and lower index in pattern for value. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_p_h_e_m_c_e_p_8cpp_source.html#l00369">PHEMCEP.cpp:369</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_aff1c9a068342b99ae42433f1b0c74c8d"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aff1c9a068342b99ae42433f1b0c74c8d">PHEMCEP::_engineRatedSpeed</a></div><div class="ttdeci">double _engineRatedSpeed</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00301">PHEMCEP.h:301</a></div></div>
<div class="ttc" id="_util_exceptions_8h_html"><div class="ttname"><a href="../../d7/db4/_util_exceptions_8h.html">UtilExceptions.h</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_af93799fba55f6dbce4f7e18981b3719c"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#af93799fba55f6dbce4f7e18981b3719c">PHEMCEP::_heavyVehicle</a></div><div class="ttdeci">bool _heavyVehicle</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00310">PHEMCEP.h:310</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a87e57a02045a13c34ff968ba93c14916"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a87e57a02045a13c34ff968ba93c14916">PHEMCEP::_normedCepCurveFC</a></div><div class="ttdeci">std::vector&lt; double &gt; _normedCepCurveFC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00321">PHEMCEP.h:321</a></div></div>
<div class="ttc" id="class_string_bijection_html_ac312adda5c9002953a81be9189879a98"><div class="ttname"><a href="../../d5/d41/class_string_bijection.html#ac312adda5c9002953a81be9189879a98">StringBijection::hasString</a></div><div class="ttdeci">bool hasString(const std::string &amp;str) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d11/_string_bijection_8h_source.html#l00125">StringBijection.h:125</a></div></div>
<div class="ttc" id="windows__config_8h_html"><div class="ttname"><a href="../../d3/d99/windows__config_8h.html">windows_config.h</a></div></div>
<div class="ttc" id="debug__new_8h_html"><div class="ttname"><a href="../../d7/d8d/debug__new_8h.html">debug_new.h</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a1fd7cc054cfbe524ddbf4c20fceaa8b2"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a1fd7cc054cfbe524ddbf4c20fceaa8b2">PHEMCEP::_idlingFC</a></div><div class="ttdeci">double _idlingFC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00303">PHEMCEP.h:303</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_af2c41b92bd5e38b974144b6bda9be1d6"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#af2c41b92bd5e38b974144b6bda9be1d6">PHEMCEP::PHEMCEP</a></div><div class="ttdeci">PHEMCEP(bool heavyVehicel, SUMOEmissionClass emissionClass, const std::string &amp;emissionClassIdentifier, double vehicleMass, double vehicleLoading, double vehicleMassRot, double crossArea, double cdValue, double f0, double f1, double f2, double f3, double f4, double ratedPower, double pNormV0, double pNormP0, double pNormV1, double pNormP1, double axleRatio, double engineIdlingSpeed, double engineRatedSpeed, double effectiveWheelDiameter, double idlingFC, const std::string &amp;vehicleFuelType, const std::vector&lt; std::vector&lt; double &gt; &gt; &amp;matrixFC, const std::vector&lt; std::string &gt; &amp;headerLinePollutants, const std::vector&lt; std::vector&lt; double &gt; &gt; &amp;matrixPollutants, const std::vector&lt; std::vector&lt; double &gt; &gt; &amp;matrixSpeedRotational, const std::vector&lt; std::vector&lt; double &gt; &gt; &amp;normedDragTable, const std::vector&lt; double &gt; &amp;idlingValuesPollutants)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_p_h_e_m_c_e_p_8cpp_source.html#l00049">PHEMCEP.cpp:49</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a238dfe5c8d274747dfca1c4fb3f9a23e"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a238dfe5c8d274747dfca1c4fb3f9a23e">PHEMCEP::_speedCurveRotational</a></div><div class="ttdeci">std::vector&lt; double &gt; _speedCurveRotational</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00322">PHEMCEP.h:322</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_adbba716269a9bae7cc56137a6354f319"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#adbba716269a9bae7cc56137a6354f319">PHEMCEP::_normalizingPower</a></div><div class="ttdeci">double _normalizingPower</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00308">PHEMCEP.h:308</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a8fa328537e70fef34f6405cd117e4311"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8fa328537e70fef34f6405cd117e4311">PHEMCEP::_massVehicle</a></div><div class="ttdeci">double _massVehicle</div><div class="ttdoc">vehicle mass </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00284">PHEMCEP.h:284</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a78bf65ce4b824cba2ac6e8f58d848c2e"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a78bf65ce4b824cba2ac6e8f58d848c2e">PHEMCEP::_resistanceF1</a></div><div class="ttdeci">double _resistanceF1</div><div class="ttdoc">Rolling resistance f1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00272">PHEMCEP.h:272</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_aff05e1d40e28b3a69dffcc86d1cd56a0"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aff05e1d40e28b3a69dffcc86d1cd56a0">PHEMCEP::GetGearCoeffecient</a></div><div class="ttdeci">double GetGearCoeffecient(double speed) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_p_h_e_m_c_e_p_8cpp_source.html#l00343">PHEMCEP.cpp:343</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a3858f999800d45ad73b63bb88375c6f2"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a3858f999800d45ad73b63bb88375c6f2">PHEMCEP::_vehicleFuelType</a></div><div class="ttdeci">std::string _vehicleFuelType</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00304">PHEMCEP.h:304</a></div></div>
<div class="ttc" id="config_8h_html"><div class="ttname"><a href="../../db/d16/config_8h.html">config.h</a></div></div>
<div class="ttc" id="_p_h_e_m_constants_8h_html_adf25cdc9d801371d6e9834fec0ec8461"><div class="ttname"><a href="../../d5/dc3/_p_h_e_m_constants_8h.html#adf25cdc9d801371d6e9834fec0ec8461">NORMALIZING_SPEED</a></div><div class="ttdeci">const double NORMALIZING_SPEED</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc3/_p_h_e_m_constants_8h_source.html#l00028">PHEMConstants.h:28</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a9bd82a747b05cdd28500e94cc4c0fb5b"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a9bd82a747b05cdd28500e94cc4c0fb5b">PHEMCEP::_pNormP0</a></div><div class="ttdeci">double _pNormP0</div><div class="ttdoc">Step functions parameter for maximum rated power. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00294">PHEMCEP.h:294</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a94782752dbfd23c20a9783aa3a61b805"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a94782752dbfd23c20a9783aa3a61b805">PHEMCEP::~PHEMCEP</a></div><div class="ttdeci">~PHEMCEP()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_p_h_e_m_c_e_p_8cpp_source.html#l00197">PHEMCEP.cpp:197</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a4a0576467ebf3c3e490099e959ff45d3"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a4a0576467ebf3c3e490099e959ff45d3">PHEMCEP::_pNormV1</a></div><div class="ttdeci">double _pNormV1</div><div class="ttdoc">Step functions parameter for maximum rated power. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00296">PHEMCEP.h:296</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a0e682f9b39b687eea58bb130e3fa8494"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a0e682f9b39b687eea58bb130e3fa8494">PHEMCEP::_resistanceF3</a></div><div class="ttdeci">double _resistanceF3</div><div class="ttdoc">Rolling resistance f3. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00276">PHEMCEP.h:276</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a90c55598d9911903771f3799a0841e2d"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a90c55598d9911903771f3799a0841e2d">PHEMCEP::_axleRatio</a></div><div class="ttdeci">double _axleRatio</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00299">PHEMCEP.h:299</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_acee9c58e7a0db49e5669e738b13403ed"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#acee9c58e7a0db49e5669e738b13403ed">PHEMCEP::_massRot</a></div><div class="ttdeci">double _massRot</div><div class="ttdoc">rotational mass of vehicle </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00288">PHEMCEP.h:288</a></div></div>
<div class="ttc" id="_std_defs_8h_html_a3c95a90e7806e4b0d21edfae15b73465"><div class="ttname"><a href="../../da/dbd/_std_defs_8h.html#a3c95a90e7806e4b0d21edfae15b73465">UNUSED_PARAMETER</a></div><div class="ttdeci">#define UNUSED_PARAMETER(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbd/_std_defs_8h_source.html#l00039">StdDefs.h:39</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a35c0bc6eeaa2e3d6a77cc42552896828"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a35c0bc6eeaa2e3d6a77cc42552896828">PHEMCEP::_sizeOfPatternFC</a></div><div class="ttdeci">int _sizeOfPatternFC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00305">PHEMCEP.h:305</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_ada1e7ac1c368dd1cc46d9c2b5fcafe4a"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ada1e7ac1c368dd1cc46d9c2b5fcafe4a">PHEMCEP::_gearTransmissionCurve</a></div><div class="ttdeci">std::vector&lt; double &gt; _gearTransmissionCurve</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00323">PHEMCEP.h:323</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a0ee38b8faaa1527e81c9cb329e592e5f"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a0ee38b8faaa1527e81c9cb329e592e5f">PHEMCEP::_pNormV0</a></div><div class="ttdeci">double _pNormV0</div><div class="ttdoc">Step functions parameter for maximum rated power. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00292">PHEMCEP.h:292</a></div></div>
<div class="ttc" id="_p_h_e_m_constants_8h_html_a734e206840a2d1d06cbcede503742a7d"><div class="ttname"><a href="../../d5/dc3/_p_h_e_m_constants_8h.html#a734e206840a2d1d06cbcede503742a7d">ZERO_SPEED_ACCURACY</a></div><div class="ttdeci">const double ZERO_SPEED_ACCURACY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc3/_p_h_e_m_constants_8h_source.html#l00034">PHEMConstants.h:34</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a5648b36d53a02804c24ac955f35bfa35"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a5648b36d53a02804c24ac955f35bfa35">PHEMCEP::_nNormTable</a></div><div class="ttdeci">std::vector&lt; double &gt; _nNormTable</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00324">PHEMCEP.h:324</a></div></div>
<div class="ttc" id="_p_h_e_m_constants_8h_html_ac688f1b6d310d401bf80600b27675217"><div class="ttname"><a href="../../d5/dc3/_p_h_e_m_constants_8h.html#ac688f1b6d310d401bf80600b27675217">NORMALIZING_ACCELARATION</a></div><div class="ttdeci">const double NORMALIZING_ACCELARATION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc3/_p_h_e_m_constants_8h_source.html#l00029">PHEMConstants.h:29</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_af2ea05b8cad2d059c541f43821f589fb"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#af2ea05b8cad2d059c541f43821f589fb">PHEMCEP::_crossSectionalArea</a></div><div class="ttdeci">double _crossSectionalArea</div><div class="ttdoc">crosssectional area of vehicle </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00282">PHEMCEP.h:282</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a32fe214351cc3c80953d1b93f6b84084"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a32fe214351cc3c80953d1b93f6b84084">PHEMCEP::_vehicleLoading</a></div><div class="ttdeci">double _vehicleLoading</div><div class="ttdoc">vehicle loading </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00286">PHEMCEP.h:286</a></div></div>
<div class="ttc" id="class_string_bijection_html_af019d76583c63cdb2bf8910943512f56"><div class="ttname"><a href="../../d5/d41/class_string_bijection.html#af019d76583c63cdb2bf8910943512f56">StringBijection::insert</a></div><div class="ttdeci">void insert(const std::string str, const T key, bool checkDuplicates=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d11/_string_bijection_8h_source.html#l00080">StringBijection.h:80</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a4cd5d8069e06471bc29bf70e9a0cca72"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a4cd5d8069e06471bc29bf70e9a0cca72">PHEMCEP::_pNormP1</a></div><div class="ttdeci">double _pNormP1</div><div class="ttdoc">Step functions parameter for maximum rated power. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00298">PHEMCEP.h:298</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_ab54dc2933516426b189a7116145bf8d2"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab54dc2933516426b189a7116145bf8d2">PHEMCEP::_speedPatternRotational</a></div><div class="ttdeci">std::vector&lt; double &gt; _speedPatternRotational</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00311">PHEMCEP.h:311</a></div></div>
<div class="ttc" id="_p_h_e_m_constants_8h_html_a4c75ab0498f3b9e14e244a479b0a505f"><div class="ttname"><a href="../../d5/dc3/_p_h_e_m_constants_8h.html#a4c75ab0498f3b9e14e244a479b0a505f">M_PI2</a></div><div class="ttdeci">const double M_PI2</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc3/_p_h_e_m_constants_8h_source.html#l00033">PHEMConstants.h:33</a></div></div>
<div class="ttc" id="_p_h_e_m_constants_8h_html_ab7bd181137f3342de1065599c2e48b17"><div class="ttname"><a href="../../d5/dc3/_p_h_e_m_constants_8h.html#ab7bd181137f3342de1065599c2e48b17">GRAVITY_CONST</a></div><div class="ttdeci">const double GRAVITY_CONST</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc3/_p_h_e_m_constants_8h_source.html#l00025">PHEMConstants.h:25</a></div></div>
<div class="ttc" id="_p_h_e_m_c_e_p_8h_html_ac85573ffca4477fca18103c3639fa4bea0c1ef21a253e38fafdb04f3b5cdaf6a7"><div class="ttname"><a href="../../d0/dec/_p_h_e_m_c_e_p_8h.html#ac85573ffca4477fca18103c3639fa4bea0c1ef21a253e38fafdb04f3b5cdaf6a7">RatedPower</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00047">PHEMCEP.h:47</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a78f61a4a3f08efc6dffe4ac0a40bfc50"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a78f61a4a3f08efc6dffe4ac0a40bfc50">PHEMCEP::GetRotationalCoeffecient</a></div><div class="ttdeci">double GetRotationalCoeffecient(double speed) const </div><div class="ttdoc">Calculates rotational index for speed. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_p_h_e_m_c_e_p_8cpp_source.html#l00330">PHEMCEP.cpp:330</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a753e1b0fb9102a9875eff5e71ae26cc9"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a753e1b0fb9102a9875eff5e71ae26cc9">PHEMCEP::_resistanceF4</a></div><div class="ttdeci">double _resistanceF4</div><div class="ttdoc">Rolling resistance f4. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00278">PHEMCEP.h:278</a></div></div>
<div class="ttc" id="_s_u_m_o_vehicle_class_8h_html_a17f646499bc7f35c01e8cde03c637db5"><div class="ttname"><a href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#a17f646499bc7f35c01e8cde03c637db5">SUMOEmissionClass</a></div><div class="ttdeci">int SUMOEmissionClass</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6d/_s_u_m_o_vehicle_class_8h_source.html#l00219">SUMOVehicleClass.h:219</a></div></div>
<div class="ttc" id="_std_defs_8h_html"><div class="ttname"><a href="../../da/dbd/_std_defs_8h.html">StdDefs.h</a></div></div>
<div class="ttc" id="_p_h_e_m_c_e_p_8h_html_ac85573ffca4477fca18103c3639fa4bea7494bef32b1ac2874ed8442c8aed8bee"><div class="ttname"><a href="../../d0/dec/_p_h_e_m_c_e_p_8h.html#ac85573ffca4477fca18103c3639fa4bea7494bef32b1ac2874ed8442c8aed8bee">DrivingPower</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00048">PHEMCEP.h:48</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a59cbaa51bf714f991df22a1a897755c4"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a59cbaa51bf714f991df22a1a897755c4">PHEMCEP::_engineIdlingSpeed</a></div><div class="ttdeci">double _engineIdlingSpeed</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00300">PHEMCEP.h:300</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_af8cab6c00edae01097d13661732894b7"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#af8cab6c00edae01097d13661732894b7">PHEMCEP::_cdValue</a></div><div class="ttdeci">double _cdValue</div><div class="ttdoc">Cw value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00280">PHEMCEP.h:280</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a80433e41dde8a881d52241fe73cb7a3d"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a80433e41dde8a881d52241fe73cb7a3d">PHEMCEP::_resistanceF0</a></div><div class="ttdeci">double _resistanceF0</div><div class="ttdoc">Rolling resistance f0. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00270">PHEMCEP.h:270</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a8e0a99e2cdbf6078d36f78d7673c8795"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8e0a99e2cdbf6078d36f78d7673c8795">PHEMCEP::_normailzedPowerPatternPollutants</a></div><div class="ttdeci">std::vector&lt; double &gt; _normailzedPowerPatternPollutants</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00317">PHEMCEP.h:317</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a8851e7b563b6cf7b68780d31f93a976e"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8851e7b563b6cf7b68780d31f93a976e">PHEMCEP::_cepCurveFC</a></div><div class="ttdeci">std::vector&lt; double &gt; _cepCurveFC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00319">PHEMCEP.h:319</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_ace5c14715d0d78e0a43cfd35a2bfdb6f"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ace5c14715d0d78e0a43cfd35a2bfdb6f">PHEMCEP::GetPMaxNorm</a></div><div class="ttdeci">double GetPMaxNorm(double speed) const </div><div class="ttdoc">Calculates maximum available rated power for speed. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_p_h_e_m_c_e_p_8cpp_source.html#l00431">PHEMCEP.cpp:431</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_add82070f75e5f8c62620472d66b5c750"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#add82070f75e5f8c62620472d66b5c750">PHEMCEP::_normalizedCepCurvePollutants</a></div><div class="ttdeci">StringBijection&lt; std::vector&lt; double &gt; &gt; _normalizedCepCurvePollutants</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00327">PHEMCEP.h:327</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_ac5686d49fe6832ae3a0b74875bdc9b42"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ac5686d49fe6832ae3a0b74875bdc9b42">PHEMCEP::_sizeOfPatternPollutants</a></div><div class="ttdeci">int _sizeOfPatternPollutants</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00307">PHEMCEP.h:307</a></div></div>
<div class="ttc" id="_p_h_e_m_c_e_p_8h_html"><div class="ttname"><a href="../../d0/dec/_p_h_e_m_c_e_p_8h.html">PHEMCEP.h</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a6f835e70f9dd9b28d28b7edb77278a9e"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a6f835e70f9dd9b28d28b7edb77278a9e">PHEMCEP::GetMaxAccel</a></div><div class="ttdeci">double GetMaxAccel(double v, double a, double gradient, double vehicleLoading=0) const </div><div class="ttdoc">Returns the maximum accelaration for a vehicle at state v,a, slope and loading. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_p_h_e_m_c_e_p_8cpp_source.html#l00422">PHEMCEP.cpp:422</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a8d2fe6affceb1d0f7a61f7829cb29034"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a8d2fe6affceb1d0f7a61f7829cb29034">PHEMCEP::_powerPatternPollutants</a></div><div class="ttdeci">std::vector&lt; double &gt; _powerPatternPollutants</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00315">PHEMCEP.h:315</a></div></div>
<div class="ttc" id="_p_h_e_m_constants_8h_html_a6dc31c2fedd98a544d73a65b40982e13"><div class="ttname"><a href="../../d5/dc3/_p_h_e_m_constants_8h.html#a6dc31c2fedd98a544d73a65b40982e13">AIR_DENSITY_CONST</a></div><div class="ttdeci">const double AIR_DENSITY_CONST</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc3/_p_h_e_m_constants_8h_source.html#l00026">PHEMConstants.h:26</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_aaa23b82124f5aa50457ab5f125a6433c"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aaa23b82124f5aa50457ab5f125a6433c">PHEMCEP::CalcPower</a></div><div class="ttdeci">double CalcPower(double v, double a, double slope, double vehicleLoading=0) const </div><div class="ttdoc">Returns the power of used for a vehicle at state v,a, slope and loading. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_p_h_e_m_c_e_p_8cpp_source.html#l00411">PHEMCEP.cpp:411</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_ae8de5258970868b01cb6c46f0dfc7860"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ae8de5258970868b01cb6c46f0dfc7860">PHEMCEP::_normalizedPowerPatternFC</a></div><div class="ttdeci">std::vector&lt; double &gt; _normalizedPowerPatternFC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00316">PHEMCEP.h:316</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_aba3646d0771dec754907e8bee288723c"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aba3646d0771dec754907e8bee288723c">PHEMCEP::_idlingValuesPollutants</a></div><div class="ttdeci">StringBijection&lt; double &gt; _idlingValuesPollutants</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00328">PHEMCEP.h:328</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a7e0f7647e7206d97f12390d1bfe868d1"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a7e0f7647e7206d97f12390d1bfe868d1">PHEMCEP::Interpolate</a></div><div class="ttdeci">double Interpolate(double px, double p1, double p2, double e1, double e2) const </div><div class="ttdoc">Interpolates emission linearly between two known power-emission pairs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_p_h_e_m_c_e_p_8cpp_source.html#l00282">PHEMCEP.cpp:282</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_aca7a3b16532fcd9c31db8637d6488523"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aca7a3b16532fcd9c31db8637d6488523">PHEMCEP::_ratedPower</a></div><div class="ttdeci">double _ratedPower</div><div class="ttdoc">rated power of vehicle </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00290">PHEMCEP.h:290</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a9f8977321db108222a3d2816ab69eab3"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a9f8977321db108222a3d2816ab69eab3">PHEMCEP::_drivingPower</a></div><div class="ttdeci">double _drivingPower</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00309">PHEMCEP.h:309</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a287b206a1b1b48374ebcceebb0b9c00a"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a287b206a1b1b48374ebcceebb0b9c00a">PHEMCEP::_cepCurvePollutants</a></div><div class="ttdeci">StringBijection&lt; std::vector&lt; double &gt; &gt; _cepCurvePollutants</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00326">PHEMCEP.h:326</a></div></div>
<div class="ttc" id="class_string_bijection_html_ab2a895e1f5adf60e8375d2bc9c0845f3"><div class="ttname"><a href="../../d5/d41/class_string_bijection.html#ab2a895e1f5adf60e8375d2bc9c0845f3">StringBijection::get</a></div><div class="ttdeci">T get(const std::string &amp;str) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d11/_string_bijection_8h_source.html#l00106">StringBijection.h:106</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a1e93e34b8e65f84fd10fa45f3128a31a"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a1e93e34b8e65f84fd10fa45f3128a31a">PHEMCEP::_effictiveWheelDiameter</a></div><div class="ttdeci">double _effictiveWheelDiameter</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00302">PHEMCEP.h:302</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a3de59bae887dc4482d7d1d7956f8ed24"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a3de59bae887dc4482d7d1d7956f8ed24">PHEMCEP::GetDragCoeffecient</a></div><div class="ttdeci">double GetDragCoeffecient(double nNorm) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_p_h_e_m_c_e_p_8cpp_source.html#l00356">PHEMCEP.cpp:356</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_ac221258710da087a5ff90462bee3a32f"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ac221258710da087a5ff90462bee3a32f">PHEMCEP::GetDecelCoast</a></div><div class="ttdeci">double GetDecelCoast(double speed, double acc, double gradient, double vehicleLoading) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_p_h_e_m_c_e_p_8cpp_source.html#l00290">PHEMCEP.cpp:290</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_aa1aff80fdc0d361ac6db340efbaebb47"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aa1aff80fdc0d361ac6db340efbaebb47">PHEMCEP::_emissionClass</a></div><div class="ttdeci">SUMOEmissionClass _emissionClass</div><div class="ttdoc">PHEM emission class of vehicle. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00267">PHEMCEP.h:267</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a463e8ac68a0a1adc42762cea141bc8b2"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a463e8ac68a0a1adc42762cea141bc8b2">PHEMCEP::GetEmission</a></div><div class="ttdeci">double GetEmission(const std::string &amp;pollutantIdentifier, double power, double speed, bool normalized=false) const </div><div class="ttdoc">Returns a emission measure for power[kW] level. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_p_h_e_m_c_e_p_8cpp_source.html#l00208">PHEMCEP.cpp:208</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_a550159575fa74362b5e3f116bbb45c98"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#a550159575fa74362b5e3f116bbb45c98">PHEMCEP::_resistanceF2</a></div><div class="ttdeci">double _resistanceF2</div><div class="ttdoc">Rolling resistance f2. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00274">PHEMCEP.h:274</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_ab4be68a0c3bcf2a3715f610db245e820"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#ab4be68a0c3bcf2a3715f610db245e820">PHEMCEP::_normalizingType</a></div><div class="ttdeci">NormalizingType _normalizingType</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00268">PHEMCEP.h:268</a></div></div>
<div class="ttc" id="class_process_error_html"><div class="ttname"><a href="../../da/d18/class_process_error.html">ProcessError</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/_util_exceptions_8h_source.html#l00049">UtilExceptions.h:49</a></div></div>
<div class="ttc" id="_p_h_e_m_constants_8h_html_a9085ad37e6dc60258ce2345df78a0b62"><div class="ttname"><a href="../../d5/dc3/_p_h_e_m_constants_8h.html#a9085ad37e6dc60258ce2345df78a0b62">SPEED_DCEL_MIN</a></div><div class="ttdeci">const double SPEED_DCEL_MIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc3/_p_h_e_m_constants_8h_source.html#l00032">PHEMConstants.h:32</a></div></div>
<div class="ttc" id="class_p_h_e_m_c_e_p_html_aabaef2f6a9c13d665c03617cc5d5adc4"><div class="ttname"><a href="../../dc/d9f/class_p_h_e_m_c_e_p.html#aabaef2f6a9c13d665c03617cc5d5adc4">PHEMCEP::_dragNormTable</a></div><div class="ttdeci">std::vector&lt; double &gt; _dragNormTable</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dec/_p_h_e_m_c_e_p_8h_source.html#l00325">PHEMCEP.h:325</a></div></div>
<div class="ttc" id="_string_bijection_8h_html"><div class="ttname"><a href="../../d6/d11/_string_bijection_8h.html">StringBijection.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_313caf1132e152dd9b58bea13a4052ca.html">utils</a></li><li class="navelem"><a class="el" href="../../dir_350363e6c5c8a71b184c44601de179b8.html">emissions</a></li><li class="navelem"><a class="el" href="../../dd/de2/_p_h_e_m_c_e_p_8cpp.html">PHEMCEP.cpp</a></li>
    <li class="footer">Generated on Wed Jul 27 2016 00:53:49 for SUMO - Simulation of Urban MObility by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
