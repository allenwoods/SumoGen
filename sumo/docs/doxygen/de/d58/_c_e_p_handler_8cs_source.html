<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>SUMO - Simulation of Urban MObility: CEPHandler.cs Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../032x032.bmp"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SUMO - Simulation of Urban MObility
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('de/d58/_c_e_p_handler_8cs_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CEPHandler.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../de/d58/_c_e_p_handler_8cs.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="../../de/d58/_c_e_p_handler_8cs.html#a5eef50ccb226f3d1e4a30c0254c5b1ee">    1</a></span>&#160;<span class="preprocessor">#define FLEET</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Collections.Generic;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Linq;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Text;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Threading.Tasks;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.IO;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Globalization;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d4/da3/namespace_p_h_e_mlightdll.html">PHEMlightdll</a></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;{</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <span class="keyword">public</span> <span class="keyword">class </span>CEPHandler</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    {</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;        <span class="comment">// Constructors</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">        #region Constructor</span></div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ac4265a3cea1cb6306548963f211f1b7b">   19</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ac4265a3cea1cb6306548963f211f1b7b">CEPHandler</a>()</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        {</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;            <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a0c26c718f9195f57152bf1488562e8df">_ceps</a> = <span class="keyword">new</span> Dictionary&lt;string, CEP&gt;();</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        }</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="comment">// Members </span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">        #region CEPS</span></div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#aab5c735ca7784d109ab1818b4bc1e5fa">   30</a></span>&#160;        <span class="keyword">private</span> Dictionary&lt;string, CEP&gt; <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#aab5c735ca7784d109ab1818b4bc1e5fa">_ceps</a>;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="keyword">public</span> Dictionary&lt;string, CEP&gt; <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a5588620a49b41def7f064c4d8587962b">CEPS</a></div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a5588620a49b41def7f064c4d8587962b">   32</a></span>&#160;        {</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a0c26c718f9195f57152bf1488562e8df">_ceps</a>;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            }</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        }</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">        #if FLEET</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">        #region FleetShares</span></div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a6f83bdde5cd5a619b028849ba28c3805">   42</a></span>&#160;        <span class="keyword">private</span> Dictionary&lt;string, Dictionary&lt;string, double&gt;&gt; <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a6f83bdde5cd5a619b028849ba28c3805">_fleetShares</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keyword">public</span> Dictionary&lt;string, Dictionary&lt;string, double&gt;&gt; <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ad998a7f673dfa53965c22ab39507b2d9">FleetShares</a></div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ad998a7f673dfa53965c22ab39507b2d9">   44</a></span>&#160;        {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a6f83bdde5cd5a619b028849ba28c3805">_fleetShares</a>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            }</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        }</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="comment">// Methods </span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">        #region GetCEP</span></div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ae788832db238bce21185dbf0ddf8e5a4">   58</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ae788832db238bce21185dbf0ddf8e5a4">GetCEP</a>(<span class="keywordtype">string</span> DataPath, <a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html">Helpers</a> Helper)</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a5588620a49b41def7f064c4d8587962b">CEPS</a>.ContainsKey(Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#aac2bcd80d9bec24b01a94c47b5d4df14">gClass</a>))</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a4943f003036045c7ca782ea8048af1f4">Load</a>(DataPath, Helper))</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                }</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            }</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">        #if FLEET</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">        #region GetFleetCEP</span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a7fe7b6b792e384f2b9c99774f4c540ed">   73</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a7fe7b6b792e384f2b9c99774f4c540ed">GetFleetCEP</a>(<span class="keywordtype">string</span> DataPath, <span class="keywordtype">string</span> AggClass, <a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html">Helpers</a> Helper)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a5588620a49b41def7f064c4d8587962b">CEPS</a>.ContainsKey(Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#aac2bcd80d9bec24b01a94c47b5d4df14">gClass</a>))</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d2/dd4/class_p_h_e_mlightdll_1_1_constants.html">Constants</a>.<a class="code" href="../../d2/dd4/class_p_h_e_mlightdll_1_1_constants.html#a18ddb4bbb8acafcd03c69fc3bcd46d71">AGGREGATED_VEHICLECLASSES</a>.Contains(AggClass))</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                    List&lt;CEP&gt; weightedCEPS = <span class="keyword">new</span> List&lt;CEP&gt;();</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ad998a7f673dfa53965c22ab39507b2d9">FleetShares</a>.ContainsKey(AggClass))</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                    {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                        <span class="keywordflow">foreach</span> (<span class="keywordtype">string</span> aggVehClass <span class="keywordflow">in</span> <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ad998a7f673dfa53965c22ab39507b2d9">FleetShares</a>[AggClass].Keys)</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                        {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                            <span class="keywordflow">if</span> (!Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#ae07c1873003e3f92bed4dfdab0940ddb">setclass</a>(aggVehClass))</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                            {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                            }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                            <span class="keywordflow">if</span> (!<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a5588620a49b41def7f064c4d8587962b">CEPS</a>.ContainsKey(aggVehClass) &amp;&amp; !<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a4943f003036045c7ca782ea8048af1f4">Load</a>(DataPath, Helper))</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                            {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                            }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                            weightedCEPS.Add(<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a5588620a49b41def7f064c4d8587962b">CEPS</a>[aggVehClass] * <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ad998a7f673dfa53965c22ab39507b2d9">FleetShares</a>[AggClass][aggVehClass]);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                        }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                        _ceps.Add(AggClass, <a class="code" href="../../d8/dc5/class_p_h_e_mlightdll_1_1_c_e_p.html">CEP</a>.<a class="code" href="../../d8/dc5/class_p_h_e_mlightdll_1_1_c_e_p.html#a3057868b506b696297771a6509a54708">AddRangeCeps</a>(weightedCEPS.ToArray(), Helper));</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                        <span class="comment">//Set the vehicle class back</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                        Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#aac2bcd80d9bec24b01a94c47b5d4df14">gClass</a> = AggClass;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                    }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                    {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                        Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#a1db6215350a6e3fbcdb43d2bfd5458ce">ErrMsg</a> = <span class="stringliteral">&quot;The aggregated vehicle class (&quot;</span> + AggClass + <span class="stringliteral">&quot;) is not available in the FleetShare file!&quot;</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                    }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#a1db6215350a6e3fbcdb43d2bfd5458ce">ErrMsg</a> = <span class="stringliteral">&quot;The aggregated vehicle class (&quot;</span> + AggClass + <span class="stringliteral">&quot;) is a unknown class!&quot;</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="comment">// Methods </span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">        #region Load</span></div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a86ae418beecea9090894dc532e3e70d8">  122</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a86ae418beecea9090894dc532e3e70d8">Load</a>(<span class="keywordtype">string</span> DataPath, <a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html">Helpers</a> Helper)</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="comment">//Deklaration</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="comment">// get string identifier for PHEM emission class</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordtype">string</span> emissionRep = Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#aac2bcd80d9bec24b01a94c47b5d4df14">gClass</a>.ToString();</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="comment">// to hold everything.</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            List&lt;List&lt;double&gt;&gt; matrixSpeedInertiaTable;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            List&lt;List&lt;double&gt;&gt; normedTragTableSpeedInertiaTable;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            List&lt;List&lt;double&gt;&gt; matrixFC;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            List&lt;List&lt;double&gt;&gt; matrixPollutants;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            List&lt;double&gt; idlingValuesFC;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            List&lt;double&gt; idlingValuesPollutants;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            List&lt;string&gt; headerFC;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            List&lt;string&gt; headerPollutants;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="keywordtype">double</span> vehicleMass;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordtype">double</span> vehicleLoading;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="keywordtype">double</span> vehicleMassRot;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="keywordtype">double</span> crosssectionalArea;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordtype">double</span> cwValue;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordtype">double</span> f0;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordtype">double</span> f1;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordtype">double</span> f2;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keywordtype">double</span> f3;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordtype">double</span> f4;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordtype">double</span> axleRatio;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            List&lt;double&gt; transmissionGearRatios;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordtype">double</span> auxPower;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordtype">double</span> ratedPower;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordtype">double</span> engineIdlingSpeed;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordtype">double</span> engineRatedSpeed;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordtype">double</span> effectiveWhellDiameter;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordtype">string</span> vehicleMassType;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="keywordtype">string</span> vehicleFuelType;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordtype">double</span> pNormV0;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordtype">double</span> pNormP0;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordtype">double</span> pNormV1;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordtype">double</span> pNormP1;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#af42cfc2f2bdb9c5eade85ebcebe49ee5">ReadVehicleFile</a>(DataPath,</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                                 emissionRep,</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                 Helper,</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                 out vehicleMass,</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                 out vehicleLoading,</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                 out vehicleMassRot,</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                 out crosssectionalArea,</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                 out cwValue,</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                                 out f0,</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                                 out f1,</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                 out f2,</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                 out f3,</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                 out f4,</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                 out axleRatio,</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                                 out auxPower,</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                                 out ratedPower,</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                 out engineIdlingSpeed,</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                                 out engineRatedSpeed,</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                                 out effectiveWhellDiameter,</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                 out transmissionGearRatios,</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                 out vehicleMassType,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                 out vehicleFuelType,</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                 out pNormV0,</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                                 out pNormP0,</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                                 out pNormV1,</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                                 out pNormP1,</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                 out matrixSpeedInertiaTable,</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                                 out normedTragTableSpeedInertiaTable))</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a890f553a390cb188272509cfc27ca778">ReadEmissionData</a>(<span class="keyword">true</span>, DataPath, emissionRep, Helper, out headerFC, out matrixFC, out idlingValuesFC))</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a890f553a390cb188272509cfc27ca778">ReadEmissionData</a>(<span class="keyword">false</span>, DataPath, emissionRep, Helper, out headerPollutants, out matrixPollutants, out idlingValuesPollutants))</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            _ceps.Add(Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#aac2bcd80d9bec24b01a94c47b5d4df14">gClass</a>, <span class="keyword">new</span> <a class="code" href="../../d8/dc5/class_p_h_e_mlightdll_1_1_c_e_p.html">CEP</a>(vehicleMassType == <a class="code" href="../../d2/dd4/class_p_h_e_mlightdll_1_1_constants.html">Constants</a>.<a class="code" href="../../d2/dd4/class_p_h_e_mlightdll_1_1_constants.html#af283b8b8205a945e808f61469c5a922f">HeavyVehicle</a>,</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                                   vehicleMass,</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                                   vehicleLoading,</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                                                   vehicleMassRot,</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                                                   crosssectionalArea,</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                                                   cwValue,</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                                   f0,</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                                                   f1,</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                                   f2,</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                                   f3,</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                                   f4,</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                                   axleRatio,</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                                                   transmissionGearRatios,</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                                   auxPower,</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                                   ratedPower,</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                                   engineIdlingSpeed,</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                                   engineRatedSpeed,</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                                   effectiveWhellDiameter,</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                                   pNormV0,</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                                                   pNormP0,</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                                   pNormV1,</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                                                   pNormP1,</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                                                   vehicleFuelType,</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                                                   matrixFC,</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                                                   headerPollutants,</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                                   matrixPollutants,</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                                   matrixSpeedInertiaTable,</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                                                   normedTragTableSpeedInertiaTable,</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                                                   idlingValuesFC.First(),</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                                   idlingValuesPollutants));</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor">        #region ReadVehicleFile</span></div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a76d3133deb37e8dc25ddde6a5ede40b0">  234</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a76d3133deb37e8dc25ddde6a5ede40b0">ReadVehicleFile</a>(<span class="keywordtype">string</span> DataPath,</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                     <span class="keywordtype">string</span> emissionClass,</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                     <a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html">Helpers</a> Helper,</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                     out <span class="keywordtype">double</span> vehicleMass,</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                                     out <span class="keywordtype">double</span> vehicleLoading,</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                     out <span class="keywordtype">double</span> vehicleMassRot,</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                     out <span class="keywordtype">double</span> crossArea,</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                     out <span class="keywordtype">double</span> cWValue,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                     out <span class="keywordtype">double</span> f0,</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                                     out <span class="keywordtype">double</span> f1,</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                                     out <span class="keywordtype">double</span> f2,</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                     out <span class="keywordtype">double</span> f3,</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                                     out <span class="keywordtype">double</span> f4,</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                     out <span class="keywordtype">double</span> axleRatio,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                                     out <span class="keywordtype">double</span> auxPower,</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                                     out <span class="keywordtype">double</span> ratedPower,</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                     out <span class="keywordtype">double</span> engineIdlingSpeed,</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                     out <span class="keywordtype">double</span> engineRatedSpeed,</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                     out <span class="keywordtype">double</span> effectiveWheelDiameter,</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                     out List&lt;double&gt; transmissionGearRatios,</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                                     out <span class="keywordtype">string</span> vehicleMassType,</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                     out <span class="keywordtype">string</span> vehicleFuelType,</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                     out <span class="keywordtype">double</span> pNormV0,</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                                     out <span class="keywordtype">double</span> pNormP0,</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                                     out <span class="keywordtype">double</span> pNormV1,</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                                     out <span class="keywordtype">double</span> pNormP1,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                                     out List&lt;List&lt;double&gt;&gt; matrixSpeedInertiaTable,</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                                     out List&lt;List&lt;double&gt;&gt; normedDragTable)</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            vehicleMass = 0;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            vehicleLoading = 0;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            vehicleMassRot = 0;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            crossArea = 0;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            cWValue = 0;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            f0 = 0;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            f1 = 0;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            f2 = 0;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            f3 = 0;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            f4 = 0;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            axleRatio = 0;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            ratedPower = 0;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            auxPower = 0;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            engineIdlingSpeed = 0;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            engineRatedSpeed = 0;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            effectiveWheelDiameter = 0;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            vehicleMassType = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            vehicleFuelType = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            pNormV0 = 0;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            pNormP0 = 0;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            pNormV1 = 0;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            pNormP1 = 0;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            transmissionGearRatios = <span class="keyword">new</span> List&lt;double&gt;();</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            matrixSpeedInertiaTable = <span class="keyword">new</span> List&lt;List&lt;double&gt;&gt;();</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            normedDragTable = <span class="keyword">new</span> List&lt;List&lt;double&gt;&gt;();</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordtype">string</span> line;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordtype">string</span> cell;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordtype">int</span> dataCount = 0;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="comment">//Open file</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordtype">string</span> path = DataPath + <span class="stringliteral">@&quot;\&quot;</span> + emissionClass + <span class="stringliteral">&quot;.PHEMLight.veh&quot;</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordflow">if</span> (!File.Exists(@path))</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#a1db6215350a6e3fbcdb43d2bfd5458ce">ErrMsg</a> = <span class="stringliteral">&quot;File do not exist! (&quot;</span> + path + <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            StreamReader vehicleReader = File.OpenText(@path);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="comment">// skip header</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a970ca53b69fbdcef31d4c1351d0cb83c">ReadLine</a>(vehicleReader);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="keywordflow">while</span> ((line = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a970ca53b69fbdcef31d4c1351d0cb83c">ReadLine</a>(vehicleReader)) != null &amp;&amp; dataCount &lt;= 49)</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keywordflow">if</span> (line.Substring(0, 1) == Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#a10d9bb78e1914db12261683e6f4b36a7">CommentPrefix</a>)</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    dataCount++;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                cell = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a2ab4c66141749f5ceb1b8b226f8c01e1">split</a>(line, <span class="charliteral">&#39;,&#39;</span>)[0];</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="comment">// reading Mass</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="keywordflow">if</span> (dataCount == 1)</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    vehicleMass = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                <span class="comment">// reading vehicle loading</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                <span class="keywordflow">if</span> (dataCount == 2)</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                    vehicleLoading = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                <span class="comment">// reading cWValue</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                <span class="keywordflow">if</span> (dataCount == 3)</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    cWValue = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                <span class="comment">// reading crossectional area</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                <span class="keywordflow">if</span> (dataCount == 4)</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                    crossArea = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                <span class="comment">// reading vehicle mass rotational</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <span class="keywordflow">if</span> (dataCount == 7)</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    vehicleMassRot = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <span class="comment">// reading rated power</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                <span class="keywordflow">if</span> (dataCount == 9)</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                    auxPower = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="comment">// reading rated power</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keywordflow">if</span> (dataCount == 10)</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    ratedPower = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <span class="comment">// reading engine rated speed</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <span class="keywordflow">if</span> (dataCount == 11)</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                    engineRatedSpeed = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                <span class="comment">// reading engine idling speed</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="keywordflow">if</span> (dataCount == 12)</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    engineIdlingSpeed = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                <span class="comment">// reading f0</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <span class="keywordflow">if</span> (dataCount == 14)</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    f0 = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <span class="comment">// reading f1</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                <span class="keywordflow">if</span> (dataCount == 15)</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                    f1 = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="comment">// reading f2</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                <span class="keywordflow">if</span> (dataCount == 16)</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                    f2 = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <span class="comment">// reading f3</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <span class="keywordflow">if</span> (dataCount == 17)</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    f3 = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                <span class="comment">// reading f4</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordflow">if</span> (dataCount == 18)</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    f4 = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                <span class="comment">// reading axleRatio</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                <span class="keywordflow">if</span> (dataCount == 21)</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                    axleRatio = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                <span class="comment">// reading effective wheel diameter</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <span class="keywordflow">if</span> (dataCount == 22)</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                    effectiveWheelDiameter = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                <span class="keywordflow">if</span> (dataCount &gt;= 23 &amp;&amp; dataCount &lt;= 40)</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                    transmissionGearRatios.Add(<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell));</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <span class="comment">// reading vehicleMassType</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                <span class="keywordflow">if</span> (dataCount == 45)</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                    vehicleMassType = cell;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                <span class="comment">// reading vehicleFuelType</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <span class="keywordflow">if</span> (dataCount == 46)</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                    vehicleFuelType = cell;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <span class="comment">// reading pNormV0</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                <span class="keywordflow">if</span> (dataCount == 47)</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    pNormV0 = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <span class="comment">// reading pNormP0</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="keywordflow">if</span> (dataCount == 48)</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                    pNormP0 = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                <span class="comment">// reading pNormV1</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                <span class="keywordflow">if</span> (dataCount == 49)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                    pNormV1 = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <span class="comment">// reading pNormP1</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                <span class="keywordflow">if</span> (dataCount == 50)</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    pNormP1 = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(cell);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">while</span> ((line = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a970ca53b69fbdcef31d4c1351d0cb83c">ReadLine</a>(vehicleReader)) != null &amp;&amp; line.Substring(0, 1) != Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#a10d9bb78e1914db12261683e6f4b36a7">CommentPrefix</a>)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                <span class="keywordflow">if</span> (line.Substring(0, 1) == Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#a10d9bb78e1914db12261683e6f4b36a7">CommentPrefix</a>)</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                matrixSpeedInertiaTable.Add(<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#acc3f5dcd3481f1ada864f5a10251d109">todoubleList</a>(<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a2ab4c66141749f5ceb1b8b226f8c01e1">split</a>(line, <span class="charliteral">&#39;,&#39;</span>)));</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <span class="keywordflow">while</span> ((line = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a970ca53b69fbdcef31d4c1351d0cb83c">ReadLine</a>(vehicleReader)) != null)</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                <span class="keywordflow">if</span> (line.Substring(0, 1) == Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#a10d9bb78e1914db12261683e6f4b36a7">CommentPrefix</a>)</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                normedDragTable.Add(<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#acc3f5dcd3481f1ada864f5a10251d109">todoubleList</a>(<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a2ab4c66141749f5ceb1b8b226f8c01e1">split</a>(line, <span class="charliteral">&#39;,&#39;</span>)));</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            vehicleReader.Close();</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="preprocessor">        #region ReadEmissionData</span></div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#aeb0d95a8236c5bc4a7268f93955650c9">  431</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#aeb0d95a8236c5bc4a7268f93955650c9">ReadEmissionData</a>(<span class="keywordtype">bool</span> readFC,</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                                      <span class="keywordtype">string</span> DataPath,</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                                      <span class="keywordtype">string</span> emissionClass,</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                                      <a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html">Helpers</a> Helper,</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                                      out List&lt;string&gt; header,</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                                      out List&lt;List&lt;double&gt;&gt; matrix,</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                      out List&lt;double&gt; idlingValues)</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="comment">// declare file stream</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="keywordtype">string</span> line;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            header = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            matrix = <span class="keyword">new</span> List&lt;List&lt;double&gt;&gt;();</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            idlingValues = <span class="keyword">new</span> List&lt;double&gt;();</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="keywordtype">string</span> pollutantExtension = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="keywordflow">if</span> (readFC)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                pollutantExtension += <span class="stringliteral">&quot;_FC&quot;</span>;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="keywordtype">string</span> path = DataPath + <span class="stringliteral">@&quot;\&quot;</span> + emissionClass + pollutantExtension + <span class="stringliteral">&quot;.csv&quot;</span>;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="keywordflow">if</span> (!File.Exists(path))</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#a1db6215350a6e3fbcdb43d2bfd5458ce">ErrMsg</a> = <span class="stringliteral">&quot;File do not exist! (&quot;</span> + path + <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            StreamReader fileReader = File.OpenText(@path);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <span class="comment">// read header line for pollutant identifiers</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="keywordflow">if</span> ((line = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a970ca53b69fbdcef31d4c1351d0cb83c">ReadLine</a>(fileReader)) != null)</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                List&lt;string&gt; entries = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a2ab4c66141749f5ceb1b8b226f8c01e1">split</a>(line, <span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                <span class="comment">// skip first entry &quot;Pe&quot;</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; entries.Count; i++)</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                    header.Add(entries[i]);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <span class="comment">// skip units</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a970ca53b69fbdcef31d4c1351d0cb83c">ReadLine</a>(fileReader);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="comment">// skip comment</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a970ca53b69fbdcef31d4c1351d0cb83c">ReadLine</a>(fileReader);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="comment">//readIdlingValues</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            line = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a970ca53b69fbdcef31d4c1351d0cb83c">ReadLine</a>(fileReader);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            List&lt;string&gt; stringIdlings = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a2ab4c66141749f5ceb1b8b226f8c01e1">split</a>(line, <span class="charliteral">&#39;,&#39;</span>).ToList();</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            stringIdlings.RemoveAt(0);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            idlingValues = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#acc3f5dcd3481f1ada864f5a10251d109">todoubleList</a>(stringIdlings);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="keywordflow">while</span> ((line = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a970ca53b69fbdcef31d4c1351d0cb83c">ReadLine</a>(fileReader)) != null)</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                matrix.Add(<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#acc3f5dcd3481f1ada864f5a10251d109">todoubleList</a>(<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a2ab4c66141749f5ceb1b8b226f8c01e1">split</a>(line, <span class="charliteral">&#39;,&#39;</span>)));</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            fileReader.Close();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="preprocessor">        #if FLEET</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="preprocessor">        #region ReadFleetShares</span></div><div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a05336d36ae7f7d16104d3d51413adda0">  493</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a05336d36ae7f7d16104d3d51413adda0">ReadFleetShares</a>(<span class="keywordtype">string</span> DataPath, <a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html">Helpers</a> Helper)</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="comment">//Declaration</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            <span class="keywordtype">string</span> line;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="keywordtype">string</span> path = DataPath + <span class="stringliteral">@&quot;\FleetShares.csv&quot;</span>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="keywordflow">if</span> (!File.Exists(@path))</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#a1db6215350a6e3fbcdb43d2bfd5458ce">ErrMsg</a> = <span class="stringliteral">&quot;FleetShares file does not exist! (&quot;</span> + path + <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            StreamReader shareReader = File.OpenText(@path);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            _fleetShares = <span class="keyword">new</span> Dictionary&lt;string, Dictionary&lt;string, double&gt;&gt;();</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            <span class="keywordflow">while</span> ((line = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a970ca53b69fbdcef31d4c1351d0cb83c">ReadLine</a>(shareReader)) != null)</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                <span class="keywordflow">if</span> (line.Substring(0, 1) == Helper.<a class="code" href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#a10d9bb78e1914db12261683e6f4b36a7">CommentPrefix</a>)</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                List&lt;string&gt; splitLine = <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a2ab4c66141749f5ceb1b8b226f8c01e1">split</a>(line, <span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="keywordtype">string</span> aggregateClass = splitLine[0];</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ad998a7f673dfa53965c22ab39507b2d9">FleetShares</a>.ContainsKey(aggregateClass))</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                    <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ad998a7f673dfa53965c22ab39507b2d9">FleetShares</a>.Add(aggregateClass, <span class="keyword">new</span> Dictionary&lt;string, double&gt;());</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <span class="keywordtype">string</span> subClass = splitLine[1];</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ad998a7f673dfa53965c22ab39507b2d9">FleetShares</a>[aggregateClass].ContainsKey(subClass))</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                    <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ad998a7f673dfa53965c22ab39507b2d9">FleetShares</a>[aggregateClass].Add(subClass, <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(splitLine[2]));</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="comment">// Functions </span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="preprocessor">        #region Functions</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="comment">//Split the string</span></div><div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a4c5b84e2a7e005abb667e39f8224f48c">  534</a></span>&#160;        <span class="keyword">private</span> List&lt;string&gt; <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a4c5b84e2a7e005abb667e39f8224f48c">split</a>(<span class="keywordtype">string</span> s, <span class="keywordtype">char</span> delim)</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">return</span> s.Split(delim).ToList();</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="comment">//Convert string to double</span></div><div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a55edc4eb15e6405937a724c425241464">  540</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">double</span> <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a55edc4eb15e6405937a724c425241464">todouble</a>(<span class="keywordtype">string</span> s)</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <span class="keywordflow">return</span> <span class="keywordtype">double</span>.Parse(s, CultureInfo.InvariantCulture);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        }</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="comment">//Convert string to double list</span></div><div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a7f9b07ce3fa6ee9bd47ea7f1000b19cc">  546</a></span>&#160;        <span class="keyword">private</span> List&lt;double&gt; <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a7f9b07ce3fa6ee9bd47ea7f1000b19cc">todoubleList</a>(List&lt;string&gt; s)</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="keywordflow">return</span> s.Select(p =&gt; <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">todouble</a>(p)).Cast&lt;<span class="keywordtype">double</span>&gt;().ToList();</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="comment">//Read a line from file</span></div><div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#aae2a3d43abb3af30f75678a83506f467">  552</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">string</span> <a class="code" href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#aae2a3d43abb3af30f75678a83506f467">ReadLine</a>(StreamReader s)</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="keywordflow">return</span> s.ReadLine();</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    }</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;}</div><div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_acc3f5dcd3481f1ada864f5a10251d109"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#acc3f5dcd3481f1ada864f5a10251d109">PHEMlightdll::CEPHandler::todoubleList</a></div><div class="ttdeci">std::vector&lt; double &gt; todoubleList(const std::vector&lt; std::string &gt; &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7a/_c_e_p_handler_8cpp_source.html#l00345">CEPHandler.cpp:345</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_helpers_html_aac2bcd80d9bec24b01a94c47b5d4df14"><div class="ttname"><a href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#aac2bcd80d9bec24b01a94c47b5d4df14">PHEMlightdll::Helpers.gClass</a></div><div class="ttdeci">string gClass</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d01/_helpers_8cs_source.html#l00041">Helpers.cs:41</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a0c26c718f9195f57152bf1488562e8df"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a0c26c718f9195f57152bf1488562e8df">PHEMlightdll::CEPHandler::_ceps</a></div><div class="ttdeci">std::map&lt; std::string, CEP * &gt; _ceps</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/da5/_c_e_p_handler_8h_source.html#l00028">CEPHandler.h:28</a></div></div>
<div class="ttc" id="namespace_system_html"><div class="ttname"><a href="../../d8/dd0/namespace_system.html">System</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_helpers_html_a1db6215350a6e3fbcdb43d2bfd5458ce"><div class="ttname"><a href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#a1db6215350a6e3fbcdb43d2bfd5458ce">PHEMlightdll::Helpers.ErrMsg</a></div><div class="ttdeci">string ErrMsg</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d01/_helpers_8cs_source.html#l00047">Helpers.cs:47</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_ae788832db238bce21185dbf0ddf8e5a4"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ae788832db238bce21185dbf0ddf8e5a4">PHEMlightdll::CEPHandler.GetCEP</a></div><div class="ttdeci">bool GetCEP(string DataPath, Helpers Helper)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00058">CEPHandler.cs:58</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_helpers_html_ae07c1873003e3f92bed4dfdab0940ddb"><div class="ttname"><a href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#ae07c1873003e3f92bed4dfdab0940ddb">PHEMlightdll::Helpers::setclass</a></div><div class="ttdeci">bool setclass(const std::string &amp;VEH)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df3/_helpers_8cpp_source.html#l00217">Helpers.cpp:217</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a7fe7b6b792e384f2b9c99774f4c540ed"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a7fe7b6b792e384f2b9c99774f4c540ed">PHEMlightdll::CEPHandler.GetFleetCEP</a></div><div class="ttdeci">bool GetFleetCEP(string DataPath, string AggClass, Helpers Helper)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00073">CEPHandler.cs:73</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a55edc4eb15e6405937a724c425241464"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a55edc4eb15e6405937a724c425241464">PHEMlightdll::CEPHandler.todouble</a></div><div class="ttdeci">double todouble(string s)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00540">CEPHandler.cs:540</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_html_a3057868b506b696297771a6509a54708"><div class="ttname"><a href="../../d8/dc5/class_p_h_e_mlightdll_1_1_c_e_p.html#a3057868b506b696297771a6509a54708">PHEMlightdll::CEP.AddRangeCeps</a></div><div class="ttdeci">static CEP AddRangeCeps(CEP[] cps, Helpers Helper)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1f/_c_e_p_8cs_source.html#l00737">CEP.cs:737</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a6f83bdde5cd5a619b028849ba28c3805"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a6f83bdde5cd5a619b028849ba28c3805">PHEMlightdll::CEPHandler._fleetShares</a></div><div class="ttdeci">Dictionary&lt; string, Dictionary&lt; string, double &gt; &gt; _fleetShares</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00042">CEPHandler.cs:42</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a4943f003036045c7ca782ea8048af1f4"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a4943f003036045c7ca782ea8048af1f4">PHEMlightdll::CEPHandler::Load</a></div><div class="ttdeci">bool Load(const std::vector&lt; std::string &gt; &amp;DataPath, Helpers *Helper)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7a/_c_e_p_handler_8cpp_source.html#l00028">CEPHandler.cpp:28</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_constants_html_af283b8b8205a945e808f61469c5a922f"><div class="ttname"><a href="../../d2/dd4/class_p_h_e_mlightdll_1_1_constants.html#af283b8b8205a945e808f61469c5a922f">PHEMlightdll::Constants::HeavyVehicle</a></div><div class="ttdeci">static const std::string HeavyVehicle</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d51/_constants_8h_source.html#l00023">Constants.h:23</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a970ca53b69fbdcef31d4c1351d0cb83c"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a970ca53b69fbdcef31d4c1351d0cb83c">PHEMlightdll::CEPHandler::ReadLine</a></div><div class="ttdeci">std::string ReadLine(std::ifstream &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7a/_c_e_p_handler_8cpp_source.html#l00353">CEPHandler.cpp:353</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_ad998a7f673dfa53965c22ab39507b2d9"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ad998a7f673dfa53965c22ab39507b2d9">PHEMlightdll::CEPHandler.FleetShares</a></div><div class="ttdeci">Dictionary&lt; string, Dictionary&lt; string, double &gt; &gt; FleetShares</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00044">CEPHandler.cs:44</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a05336d36ae7f7d16104d3d51413adda0"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a05336d36ae7f7d16104d3d51413adda0">PHEMlightdll::CEPHandler.ReadFleetShares</a></div><div class="ttdeci">bool ReadFleetShares(string DataPath, Helpers Helper)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00493">CEPHandler.cs:493</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_ac4265a3cea1cb6306548963f211f1b7b"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#ac4265a3cea1cb6306548963f211f1b7b">PHEMlightdll::CEPHandler.CEPHandler</a></div><div class="ttdeci">CEPHandler()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00019">CEPHandler.cs:19</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a7f9b07ce3fa6ee9bd47ea7f1000b19cc"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a7f9b07ce3fa6ee9bd47ea7f1000b19cc">PHEMlightdll::CEPHandler.todoubleList</a></div><div class="ttdeci">List&lt; double &gt; todoubleList(List&lt; string &gt; s)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00546">CEPHandler.cs:546</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_helpers_html"><div class="ttname"><a href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html">PHEMlightdll::Helpers</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d01/_helpers_8h_source.html#l00008">Helpers.h:8</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_constants_html"><div class="ttname"><a href="../../d2/dd4/class_p_h_e_mlightdll_1_1_constants.html">PHEMlightdll::Constants</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d51/_constants_8h_source.html#l00009">Constants.h:9</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a4c5b84e2a7e005abb667e39f8224f48c"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a4c5b84e2a7e005abb667e39f8224f48c">PHEMlightdll::CEPHandler.split</a></div><div class="ttdeci">List&lt; string &gt; split(string s, char delim)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00534">CEPHandler.cs:534</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a86ae418beecea9090894dc532e3e70d8"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a86ae418beecea9090894dc532e3e70d8">PHEMlightdll::CEPHandler.Load</a></div><div class="ttdeci">bool Load(string DataPath, Helpers Helper)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00122">CEPHandler.cs:122</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a891d32a4e08c414f08fa83ab140b06aa"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a891d32a4e08c414f08fa83ab140b06aa">PHEMlightdll::CEPHandler::todouble</a></div><div class="ttdeci">double todouble(const std::string &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7a/_c_e_p_handler_8cpp_source.html#l00338">CEPHandler.cpp:338</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a76d3133deb37e8dc25ddde6a5ede40b0"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a76d3133deb37e8dc25ddde6a5ede40b0">PHEMlightdll::CEPHandler.ReadVehicleFile</a></div><div class="ttdeci">bool ReadVehicleFile(string DataPath, string emissionClass, Helpers Helper, out double vehicleMass, out double vehicleLoading, out double vehicleMassRot, out double crossArea, out double cWValue, out double f0, out double f1, out double f2, out double f3, out double f4, out double axleRatio, out double auxPower, out double ratedPower, out double engineIdlingSpeed, out double engineRatedSpeed, out double effectiveWheelDiameter, out List&lt; double &gt; transmissionGearRatios, out string vehicleMassType, out string vehicleFuelType, out double pNormV0, out double pNormP0, out double pNormV1, out double pNormP1, out List&lt; List&lt; double &gt;&gt; matrixSpeedInertiaTable, out List&lt; List&lt; double &gt;&gt; normedDragTable)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00234">CEPHandler.cs:234</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a2ab4c66141749f5ceb1b8b226f8c01e1"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a2ab4c66141749f5ceb1b8b226f8c01e1">PHEMlightdll::CEPHandler::split</a></div><div class="ttdeci">std::vector&lt; std::string &gt; split(const std::string &amp;s, char delim)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7a/_c_e_p_handler_8cpp_source.html#l00328">CEPHandler.cpp:328</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_aeb0d95a8236c5bc4a7268f93955650c9"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#aeb0d95a8236c5bc4a7268f93955650c9">PHEMlightdll::CEPHandler.ReadEmissionData</a></div><div class="ttdeci">bool ReadEmissionData(bool readFC, string DataPath, string emissionClass, Helpers Helper, out List&lt; string &gt; header, out List&lt; List&lt; double &gt;&gt; matrix, out List&lt; double &gt; idlingValues)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00431">CEPHandler.cs:431</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_aab5c735ca7784d109ab1818b4bc1e5fa"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#aab5c735ca7784d109ab1818b4bc1e5fa">PHEMlightdll::CEPHandler._ceps</a></div><div class="ttdeci">Dictionary&lt; string, CEP &gt; _ceps</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00030">CEPHandler.cs:30</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_html"><div class="ttname"><a href="../../d8/dc5/class_p_h_e_mlightdll_1_1_c_e_p.html">PHEMlightdll::CEP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d74/_c_e_p_8h_source.html#l00016">CEP.h:16</a></div></div>
<div class="ttc" id="namespace_p_h_e_mlightdll_html"><div class="ttname"><a href="../../d4/da3/namespace_p_h_e_mlightdll.html">PHEMlightdll</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df2/_c_e_p_8cpp_source.html#l00006">CEP.cpp:6</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_aae2a3d43abb3af30f75678a83506f467"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#aae2a3d43abb3af30f75678a83506f467">PHEMlightdll::CEPHandler.ReadLine</a></div><div class="ttdeci">string ReadLine(StreamReader s)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00552">CEPHandler.cs:552</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a5588620a49b41def7f064c4d8587962b"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a5588620a49b41def7f064c4d8587962b">PHEMlightdll::CEPHandler.CEPS</a></div><div class="ttdeci">Dictionary&lt; string, CEP &gt; CEPS</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/_c_e_p_handler_8cs_source.html#l00032">CEPHandler.cs:32</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_a890f553a390cb188272509cfc27ca778"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#a890f553a390cb188272509cfc27ca778">PHEMlightdll::CEPHandler::ReadEmissionData</a></div><div class="ttdeci">bool ReadEmissionData(bool readFC, const std::vector&lt; std::string &gt; &amp;DataPath, const std::string &amp;emissionClass, Helpers *Helper, std::vector&lt; std::string &gt; &amp;header, std::vector&lt; std::vector&lt; double &gt; &gt; &amp;matrix, std::vector&lt; double &gt; &amp;idlingValues)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7a/_c_e_p_handler_8cpp_source.html#l00275">CEPHandler.cpp:275</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_helpers_html_a10d9bb78e1914db12261683e6f4b36a7"><div class="ttname"><a href="../../dc/dea/class_p_h_e_mlightdll_1_1_helpers.html#a10d9bb78e1914db12261683e6f4b36a7">PHEMlightdll::Helpers.CommentPrefix</a></div><div class="ttdeci">string CommentPrefix</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d01/_helpers_8cs_source.html#l00053">Helpers.cs:53</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_constants_html_a18ddb4bbb8acafcd03c69fc3bcd46d71"><div class="ttname"><a href="../../d2/dd4/class_p_h_e_mlightdll_1_1_constants.html#a18ddb4bbb8acafcd03c69fc3bcd46d71">PHEMlightdll::Constants.AGGREGATED_VEHICLECLASSES</a></div><div class="ttdeci">static string[] AGGREGATED_VEHICLECLASSES</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_constants_8cs_source.html#l00065">Constants.cs:65</a></div></div>
<div class="ttc" id="class_p_h_e_mlightdll_1_1_c_e_p_handler_html_af42cfc2f2bdb9c5eade85ebcebe49ee5"><div class="ttname"><a href="../../d8/dce/class_p_h_e_mlightdll_1_1_c_e_p_handler.html#af42cfc2f2bdb9c5eade85ebcebe49ee5">PHEMlightdll::CEPHandler::ReadVehicleFile</a></div><div class="ttdeci">bool ReadVehicleFile(const std::vector&lt; std::string &gt; &amp;DataPath, const std::string &amp;emissionClass, Helpers *Helper, double &amp;vehicleMass, double &amp;vehicleLoading, double &amp;vehicleMassRot, double &amp;crossArea, double &amp;cWValue, double &amp;f0, double &amp;f1, double &amp;f2, double &amp;f3, double &amp;f4, double &amp;axleRatio, double &amp;auxPower, double &amp;ratedPower, double &amp;engineIdlingSpeed, double &amp;engineRatedSpeed, double &amp;effectiveWheelDiameter, std::vector&lt; double &gt; &amp;transmissionGearRatios, std::string &amp;vehicleMassType, std::string &amp;vehicleFuelType, double &amp;pNormV0, double &amp;pNormP0, double &amp;pNormV1, double &amp;pNormP1, std::vector&lt; std::vector&lt; double &gt; &gt; &amp;matrixSpeedInertiaTable, std::vector&lt; std::vector&lt; double &gt; &gt; &amp;normedDragTable)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7a/_c_e_p_handler_8cpp_source.html#l00085">CEPHandler.cpp:85</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_581ffce49224a01af157a30f30164bcb.html">foreign</a></li><li class="navelem"><a class="el" href="../../dir_ad5810d68533063e5cbb51b6c96b7078.html">PHEMlight</a></li><li class="navelem"><a class="el" href="../../dir_cc6a1e2b79539ef72066079364a57a34.html">dll_code</a></li><li class="navelem"><a class="el" href="../../de/d58/_c_e_p_handler_8cs.html">CEPHandler.cs</a></li>
    <li class="footer">Generated on Wed Jul 27 2016 00:53:31 for SUMO - Simulation of Urban MObility by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
