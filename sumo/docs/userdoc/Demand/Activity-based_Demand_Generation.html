<!DOCTYPE html>

<html lang="en">
<head>
  <title>Demand/Activity-based_Demand_Generation - SUMO - Simulation of Urban Mobility</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="../sumo.css">
  <link rel="license" href=
  "http://creativecommons.org/licenses/by-sa/3.0/">
</head>

<body id="bmission">
  <div id="container">
    <div id="logo" style="text-align:left">
      <img src="../logo.png" width="128" height="128"
      alt="SUMO-Simulation of Urban Mobility" style=
      "float:left; margin-left:10px; margin-right:20px;">
      <div id="logo_text1">SUMO</div>
      <div id="logo_text2">Simulation of Urban MObility</div>
    </div>

    <div id="subsMenu">
      <ul>
        <li class="sub"><a href=
        "http://sumo.dlr.de/">Home</a></li>

        <li class="sub"><a href="../Downloads.html">Download</a></li>

        <li class="sub"><a href="../index.html">Documentation</a></li>

        <li class="sub"><a href=
        "http://sumo.dlr.de/wiki/">Wiki</a></li>

        <li class="sub"><a href=
        "http://sumo.dlr.de/trac/">Trac</a></li>

        <li class="sub"><a href=
        "http://sumo.dlr.de/blog/">Blog</a></li>

        <li class="sub"><a href="../Contact.html">Contact</a></li>

        <li class="sub"><a href=
        "http://sourceforge.net/projects/sumo/">SF-Project</a></li>
      </ul>
    </div>

    <div id="nav">
      <div id="step1">
        <h3>User</h3>
        <ul>
        <!-- nav begins --> <li>Introduction</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Sumo_at_a_Glance.html">The traffic simulation SUMO</a></li>
</ul></li>
  <li>Basic Usage</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Basics/Notation.html">Notation in this Documentation</a></li>
  <li><a href="../Basics/Basic_Computer_Skills.html">Needed, basic Computer Skills</a></li>
  <li><a href="../Installing.html">Installing SUMO</a></li>
  <li><a href="../Basics/Using_the_Command_Line_Applications.html">Using SUMO Command Line Applications</a></li>
  <li><a href="../Tutorials.html">Tutorials</a></li>
  <li><a href="../XMLValidation.html">Validating application inputs</a></li>
</ul></li>
  <li>Network Building</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Networks/SUMO_Road_Networks.html">SUMO Road Networks</a></li>
  <li><a href="../Networks/Abstract_Network_Generation.html">Abstract networks generation</a></li>
  <li><a href="../NETCONVERT.html">NETCONVERT</a></li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Networks/Building_Networks_from_own_XML-descriptions.html">Defining own networks using XML</a></li>
   <li><a href="../Networks/Import.html">Importing non-SUMO networks</a></li>
<li style="list-style: none; display: inline"><ul>
    <li><a href="../Networks/Import/OpenStreetMap.html">from OpenStreetMap</a></li>
<li style="list-style: none; display: inline"><ul>
     <li><a href="../Networks/Import/OpenStreetMap.html#3-click_scenario_generation">3-Click Scenario Generator</a></li>
</ul></li>
    <li><a href="../Networks/Import/VISUM.html">from VISUM</a></li>
    <li><a href="../Networks/Import/Vissim.html">from Vissim</a></li>
    <li><a href="../Networks/Import/OpenDRIVE.html">from OpenDRIVE</a></li>
    <li><a href="../Networks/Import/MATsim.html">from MATsim</a></li>
    <li><a href="../Networks/Import/ArcView.html">from ArcView (shapefiles)</a></li>
    <li><a href="../Networks/Import/DlrNavteq.html">from DlrNavTeq</a></li>
    <li><a href="../Networks/Import/RoboCup.html">from Robocup Simulation League</a></li>
</ul></li>
   <li><a href="../Networks/Import/SUMO_Road_Networks.html">Importing SUMO networks</a></li>
   <li><a href="../Simulation/Motorways.html#Building_a_network_for_motorway_simulation">Building networks for motorway simulation</a></li>
   <li><a href="../Simulation/Pedestrians.html#Building_a_network_for_pedestrian_simulation">Building networks for pedestrian simulation</a></li>
   <li><a href="../Networks/Further_Options.html">Further NETCONVERT options</a></li>
   <li><a href="../Networks/Further_Outputs.html">Additional output</a></li>
</ul></li>
  <li><a href="../NETEDIT.html">Creating and modifying networks with NETEDIT</a></li>
  <li><a href="../Networks/Elevation.html">Including elevation data</a></li>
</ul></li>
  <li>Demand Modelling</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Demand/Introduction_to_demand_modelling_in_SUMO.html">Introduction to SUMO Demand Modelling</a></li>
  <li><a href="../Definition_of_Vehicles,_Vehicle_Types,_and_Routes.html">Definition of Vehicles, Vehicle Types, and Routes</a></li>
  <li><a href="../Simulation/Public_Transport.html">Simulation of public transport</a></li>
  <li><a href="../Specification/Persons.html">Simulation of individual persons and trip chains</a></li>
  <li><a href="../Specification/Logistics.html">Simulation of logistics</a></li>
  <li><a href="../Demand/Shortest_or_Optimal_Path_Routing.html">Shortest or Optimal Path Routing</a></li>
  <li><a href="../Demand/Automatic_Routing_.html">Routing in the Simulation</a></li>
  <li><a href="../Demand/Dynamic_User_Assignment.html">Computing Dynamic User Assignment</a></li>
</ul></li>
  <li>Data sources for demand generation</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Demand/Importing_O/D_Matrices.html">Importing O/D Matrices</a></li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Demand/Further_Ways_to_import_VISUM_Demand_Definitions.html">Other VISUM Demand Importers</a></li>
   <li><a href="../Demand/Further_Ways_to_import_Vissim_Demand_Definitions.html">Other Vissim Demand Importers</a></li>
</ul></li>
  <li><a href="../Demand/Routes_from_Observation_Points.html">Routes from Observation Points</a></li>
  <li><a href="../Demand/Routing_by_Turn_Probabilities.html">Routing by Turn Probabilities</a></li>
  <li><a href="../Demand/Activity-based_Demand_Generation.html">Activity-based Demand Generation</a></li>
  <li><a href="../Tools/Trip.html#randomTrips.py">Random Trips</a></li>
</ul></li>
  <li>Simulation</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Basic_Definition.html">Basic Definition</a></li>
  <li><a href="../Simulation/Output.html">Simulation output</a></li>
  <li><a href="../TraCI.html">TraCI (On-line Interaction)</a></li>
  <li><a href="../Simulation/SaveAndLoad.html">Saving and Loading Simulation State</a></li>
</ul></li>
  <li> Traffic Management and Other Structures </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Traffic_Lights.html">Traffic Lights</a></li>
  <li><a href="../Simulation/Public_Transport.html">Public Transport</a></li>
  <li><a href="../Simulation/Variable_Speed_Signs.html">Variable Speed Signs</a></li>
  <li><a href="../Simulation/Rerouter.html">Rerouter / Alternative Route Signage</a></li>
  <li><a href="../Simulation/Vaporizer.html">Vaporizer</a></li>
  <li><a href="../Simulation/Calibrator.html">Dynamic calibration of flow and speed</a></li>
</ul></li>
  <li> Traffic Modes </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Pedestrians.html">Pedestrian simulation</a></li>
  <li><a href="../Simulation/Bicycles.html">Bicycle simulation</a></li>
  <li><a href="../Simulation/Railways.html">Railway simulation</a></li>
  <li><a href="../Simulation/Waterways.html">Waterway simulation</a></li>
</ul></li>
  <li> Additional Features </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Models/Emissions.html">Emissions</a></li>
  <li><a href="../Models/Electric.html">Electric Vehicles</a></li>
  <li><a href="../Specification/Logistics.html">Logistics</a></li>
  <li><a href="../Simulation/GenericParameters.html">Generic Parameters</a></li>
  <li><a href="../Simulation/Shapes.html">Shapes Visualisation</a></li>
  <li><a href="../Simulation/Bluetooth.html">Wireless Device Detection</a></li>
</ul></li>
  <li> Model details </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/VehicleSpeed.html">Vehicle speed</a></li>
  <li><a href="../Simulation/VehicleInsertion.html">Vehicle insertion</a></li>
  <li><a href="../Simulation/Intersections.html">Intersection dynamics</a></li>
  <li><a href="../Simulation/Randomness.html">Randomness</a></li>
  <li><a href="../Simulation/Routing.html">Routing during the simulation</a></li>
  <li><a href="../Simulation/SublaneModel.html">Sublane Model</a></li>
  <li><a href="../Simulation/OppositeDirectionDriving.html">Opposite Direction Driving</a></li>
</ul></li>
  <li> Common Problems </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Why_Vehicles_are_teleporting.html">Why Vehicles are teleporting</a></li>
  <li><a href="../FAQ.html#The_simulation_has_lots_of_jams.2Fdeadlocks._What_can_I_do.3F">Unexpected jamming</a></li>
  <li><a href="../FAQ.html#Why_do_the_vehicles_perform_unexpected_lane-changing_maneuvers.3F">Unexpected lane-changing maneuvers?</a></li>
  <li><a href="../FAQ.html#How_do_I_get_high_flows.2Fvehicle_densities.3F">How to get high flows?</a></li>
</ul></li>
  <li><a href="../Tools/Main.html">Additional Tools</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Tools/Import/OSM.html#osmWebWizard.py">osmWebWizard</a></li>
  <li><a href="../TraCI/Interfacing_TraCI_from_Python.html">TraCI/Interfacing_TraCI_from_Python</a></li>
  <li><a href="../Tools/Sumolib.html">Reading SUMO networks and outputs with Python (sumolib)</a></li>
  <li><a href="../Tools/Xml.html">Tools for converting SUMO outputs to CSV/Spreadsheet</a></li>
  <li><a href="../Tools/TraceExporter.html">Exporting mobility Traces (traceExporter)</a></li>
  <li><a href="../Tools/Visualization.html">Tools/Visualization</a></li>
  <li><a href="../Tools/Main.html">Tool index</a></li>
</ul></li>
  <li>Theory</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Theory/Traffic_Simulations.html">Traffic simulations in general</a></li>
</ul></li>
  <li>Application Manuals</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../SUMO.html">SUMO</a></li>
  <li><a href="../SUMO-GUI.html">SUMO-GUI</a></li>
  <li><a href="../NETCONVERT.html">NETCONVERT</a></li>
  <li><a href="../NETEDIT.html">NETEDIT</a></li>
  <li><a href="../NETGENERATE.html">NETGENERATE</a></li>
  <li><a href="../OD2TRIPS.html">OD2TRIPS</a></li>
  <li><a href="../DUAROUTER.html">DUAROUTER</a></li>
  <li><a href="../JTRROUTER.html">JTRROUTER</a></li>
  <li><a href="../DFROUTER.html">DFROUTER</a></li>
  <li><a href="../MAROUTER.html">MAROUTER</a></li>
  <li><a href="../POLYCONVERT.html">POLYCONVERT</a></li>
  <li><a href="../ACTIVITYGEN.html">ACTIVITYGEN</a></li>
  <li><a href="../MESO.html">MESO, MESO-GUI</a></li>
</ul></li>
  <li>Appendices</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../ChangeLog.html">ChangeLog</a></li>
  <li><a href="../Other/Glossary.html">Glossary</a></li>
  <li><a href="../FAQ.html">FAQ</a></li>
  <li><a href="../Tools/Main.html">Additional Tools</a></li>
  <li><a href="../Other/File_Extensions.html">Known File Extensions</a></li>
</ul></li>
<!-- nav ends -->
        </ul>
      </div>

      <div id="step2">
        <h3>Further Resources</h3>

        <ul>
          <li><a href="../Data/Networks.html">Example
          Networks</a></li>

          <li><a href="../Data/Scenarios.html">Example
          Scenarios</a></li>

          <li><a href="../Data/Traffic_Data.html">Traffic
          Data</a></li>
        </ul>
      </div>

      <div id="step3">
        <h3>Developer</h3>

        <ul>
          <li><a href="../Developer/Main.html">Developer Docs</a></li>

          <li><a href="http://sumo.dlr.de/daily/">Daily Tests
          Status</a></li>

          <li><a href="../../doxygen/">Doxygen Documentation</a></li>

          <li>Python Modules Documentation</li>

          <li style="list-style: none; display: inline">
            <ul>
              <li><a href="../../pydoc/traci.html">traci</a></li>

              <li><a href="../../pydoc/sumolib.html">sumolib</a></li>
            </ul>
          </li>

          <li>Java Modules Documentation</li>

          <li style="list-style: none; display: inline">
            <ul>
              <li><a href="../../javadoc/traci4j/">TraCI4J</a></li>

              <li><a href="../../javadoc/traas/">TraaS</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <div id="content">
      <a id="top"></a>

						<div class="mw-indicators">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="en">Demand/Activity-based Demand Generation</h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">generated on 2016-07-27 01:06:18.992777 from <a href="http://sumo.dlr.de/wiki/Demand/Activity-based_Demand_Generation">the wiki page for Demand/Activity-based_Demand_Generation</a> for SUMO 0.27.1</div>
								<div id="contentSub"></div>
												
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>ActivityGen generates demand from a description of the population in the net. To do so, it uses a simple activity-based traffic model. It supports the activities work, school, and free time and the conveyances walking, bike, car, and bus. Cars may have their start or stop location outside the map.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Typical_Command_Line"><span class="tocnumber">1</span> <span class="toctext">Typical Command Line</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Example"><span class="tocnumber">2</span> <span class="toctext">Example</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#The_Statistics_File"><span class="tocnumber">3</span> <span class="toctext">The Statistics File</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#General_information"><span class="tocnumber">3.1</span> <span class="toctext">General information</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Parameters"><span class="tocnumber">3.2</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Population.27s_Age_Brackets"><span class="tocnumber">3.3</span> <span class="toctext">Population's Age Brackets</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Work_Hours"><span class="tocnumber">3.4</span> <span class="toctext">Work Hours</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Population_and_Work_Position_Distribution"><span class="tocnumber">3.5</span> <span class="toctext">Population and Work Position Distribution</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#City_Gates"><span class="tocnumber">3.6</span> <span class="toctext">City Gates</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Schools"><span class="tocnumber">3.7</span> <span class="toctext">Schools</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Bus_Lines"><span class="tocnumber">3.8</span> <span class="toctext">Bus Lines</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Final_Aspect"><span class="tocnumber">3.9</span> <span class="toctext">Final Aspect</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#Activities"><span class="tocnumber">4</span> <span class="toctext">Activities</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Work_and_School_Activities"><span class="tocnumber">4.1</span> <span class="toctext">Work and School Activities</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Free_Time_Activities"><span class="tocnumber">4.2</span> <span class="toctext">Free Time Activities</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Traffic_which_is_not_covered_by_Activitygen"><span class="tocnumber">4.3</span> <span class="toctext">Traffic which is not covered by Activitygen</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Transportation_Means"><span class="tocnumber">5</span> <span class="toctext">Transportation Means</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#Feet_or_Bike"><span class="tocnumber">5.1</span> <span class="toctext">Feet or Bike</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Buses"><span class="tocnumber">5.2</span> <span class="toctext">Buses</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Cars"><span class="tocnumber">5.3</span> <span class="toctext">Cars</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="#Limitations"><span class="tocnumber">6</span> <span class="toctext">Limitations</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Typical_Command_Line">Typical Command Line</span></h2>
<pre>activitygen --net-file &lt;NET&gt; --stat-file &lt;STATISTICS&gt; --output-file &lt;TRIPS&gt; --random
</pre>
<p>&lt;NET&gt; is a map in form of a SUMO net file, &lt;STATISTICS&gt; contains the description of the population (described below), and &lt;TRIPS&gt; is the generated SUMO routes file (the demand).
</p><p>You can give ActivityGen a first try with the following example.
</p>
<h2><span class="mw-headline" id="Example">Example</span></h2>
<div class="floatright"><a href="../images/Activitygen-example-net.png" class="image"><img alt="Activitygen-example-net.png" src="../images/Activitygen-example-net.png" width="200" height="200" srcset="/w/images/thumb/0/01/Activitygen-example-net.png/300px-Activitygen-example-net.png 1.5x, /w/images/thumb/0/01/Activitygen-example-net.png/400px-Activitygen-example-net.png 2x" /></a></div>
<p>While activitygen has been developed mainly to generate traffic demand for larger networks, this example features the small network shown in the image on the right. Download the files <a rel="nofollow" class="external text" href="https://sourceforge.net/apps/trac/sumo/export/11010/trunk/sumo/tests/activitygen/demand_generation/activitygen-example/activitygen-example.net.xml">activitygen-example.net.xml</a> and <a rel="nofollow" class="external text" href="https://sourceforge.net/apps/trac/sumo/export/11010/trunk/sumo/tests/activitygen/demand_generation/activitygen-example/activitygen-example.stat.xml">activitygen-example.stat.xml</a> to follow this example.
</p><p>To run this example, use the following commands:
</p>
<pre>activitygen --net-file activitygen-example.net.xml \
            --stat-file activitygen-example.stat.xml \
            --output-file activitygen-example.trips.rou.xml \
            --random

duarouter --net-file activitygen-example.net.xml \
          --route-files activitygen-example.trips.rou.xml \
          --output-file activitygen-example.rou.xml \
          --remove-loops --ignore-errors --repair

sumo --net-file activitygen-example.net.xml \
     --route-files activitygen-example.rou.xml
          
</pre>
<p>The first command generates the net file from the node and edge description. The second command generates the routes file (the demand) from a description of the population in the stat file. The generated routes files does not contain the complete route information though, instead it contains start edge and end edge (and optionally some vias, so-called trips) only. This allows you to choose the router you want for linking departure and destination edges. To use the SUMO's standard Dijkstra algorithm, you need to <i>repair</i> the route file executing the third command. Finally, you can run a traffic simulation with the SUMO main executable. You may give the trip file directly to SUMO as well but this will slow down the simulation considerably because all the routing is now done ad hoc based on the current network status, see <a href="../Demand/Automatic_Routing.html" title="Demand/Automatic Routing">Demand/Automatic_Routing</a>:
</p>
<pre>sumo --net-file activitygen-example.net.xml \
     --route-files activitygen-example.trips.rou.xml
</pre>
<h2><span class="mw-headline" id="The_Statistics_File">The Statistics File</span></h2>
<h3><span class="mw-headline" id="General_information">General information</span></h3>
<p>First of all we need general information over the city.
</p>
<pre class="xml">
&lt;city&gt;
    &lt;general
        inhabitants=&quot;1000&quot;
        households=&quot;500&quot;
        childrenAgeLimit=&quot;18&quot;
        retirementAgeLimit=&quot;65&quot;
        carRate=&quot;0.58&quot;
        unemploymentRate=&quot;0.05&quot;
        footDistanceLimit=&quot;350&quot;
        incomingTraffic=&quot;200&quot;
        outgoingTraffic=&quot;50&quot;
    /&gt;
&lt;/city&gt;
</pre>
<p>The meanings of all these attributes are described in the following table:
</p>
<table cellspacing="0" border="1" align="center">

<tr>
<th style="background:#ddddff;"> Attribute Name
</th>
<th style="background:#ddddff;"> Value Type
</th>
<th style="background:#ddddff;"> Description
</th></tr>
<tr>
<td class="inlxml"> <b>inhabitants</b>
</td>
<td> Integer
</td>
<td> Total number of inhabitants
</td></tr>
<tr>
<td class="inlxml"> <b>households</b>
</td>
<td> Integer
</td>
<td> Total number of households (must be between 0.5 and 1 times the number of adults of the city)
</td></tr>
<tr>
<td class="inlxml"> <b>childrenAgeLimit</b>
</td>
<td> Integer
</td>
<td> Age under which people are children. This is the first year of adulthood
</td></tr>
<tr>
<td class="inlxml"> <b>retirementAgeLimit</b>
</td>
<td> Integer
</td>
<td> Age under which people can have children home and work
</td></tr>
<tr>
<td class="inlxml"> <b>carRate</b>
</td>
<td> Float[0;1]
</td>
<td> Probability for an adult to own a car
</td></tr>
<tr>
<td class="inlxml"> <b>unemploymentRate</b>
</td>
<td> Float[0;1]
</td>
<td> Probability for an adult in age of work to be unemployed
</td></tr>
<tr>
<td class="inlxml"> <b>footDistanceLimit</b>
</td>
<td> Float
</td>
<td> Maximum distance one would go by foot instead of another transportation mean.
</td></tr>
<tr>
<td class="inlxml"> <b>incomingTraffic</b>
</td>
<td> Integer
</td>
<td> Number of people coming everyday into the city for they work
</td></tr>
<tr>
<td class="inlxml"> <b>outgoingTraffic</b>
</td>
<td> Integer[0,inhabitants]
</td>
<td> Number of inhabitants working outside the city
</td></tr></table>
<h3><span class="mw-headline" id="Parameters">Parameters</span></h3>
<p>These entries are different from the general information element in what they describe. They depend much more of the special context or state of the city (events, behaviour of the population...). They can also be useful for optimization: the mean speed can be observed afterwards; all values can be changed in order to meet validation criteria on the traffic.
</p>
<pre class="xml">
&lt;city&gt;
    &lt;general ... /&gt;
    &lt;parameters
        carPreference=&quot;0.50&quot;
        meanTimePerKmInCity=&quot;360&quot;
        freeTimeActivityRate=&quot;0.15&quot;
        uniformRandomTraffic=&quot;0.20&quot;
        departureVariation=&quot;120&quot;
    /&gt;
&lt;/city&gt;
</pre>
<p>The meanings of all these attributes are described in the following table:
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ddddff;"> Attribute Name
</th>
<th style="background:#ddddff;"> Value Type
</th>
<th style="background:#ddddff;"> Description
</th></tr>
<tr>
<td class="inlxml"> carPreference
</td>
<td> Float[0;1]
</td>
<td> Probability that an adult prefers to take his car instead of a public transportation mean (when both available); <i>default: 0</i>.
</td></tr>
<tr>
<td class="inlxml"> meanTimePerKmInCity
</td>
<td> Integer(sec)
</td>
<td> Estimation of the time needed to drive one kilometer (bird's eye) on the map; <i>default: 360s</i>.
</td></tr>
<tr>
<td class="inlxml"> freeTimeActivityRate
</td>
<td> Float[0;1]
</td>
<td> Probability that a given household, a given day, has a free time activity using a car; <i>default: 0.15</i>.
</td></tr>
<tr>
<td class="inlxml"> uniformRandomTraffic
</td>
<td> Float[0;0.999]
</td>
<td> Proportion of the random traffic demand in the whole traffic demand; <i>default: 0</i>.
</td></tr>
<tr>
<td class="inlxml"> departureVariation
</td>
<td> Float(sec)
</td>
<td> Variance of the normal distribution introduced for slight variations in departure time (human natural variation in relation to schedules); <i>default: 0</i>.
</td></tr></table>
<h3><span class="mw-headline" id="Population.27s_Age_Brackets">Population's Age Brackets</span></h3>
<p>In order to distribute the population among households and in the city coherently, we need a precise age distribution of this population.
</p>
<pre class="xml">
&lt;city&gt;
    &lt;general ... /&gt;
    &lt;parameters ... /&gt;
    
    &lt;population&gt;
        &lt;bracket beginAge=&quot;0&quot; endAge&quot;4&quot; peopleNbr=&quot;1745&quot; /&gt;
         ...
        &lt;bracket beginAge=&quot;66&quot; endAge&quot;90&quot; peopleNbr=&quot;978&quot; /&gt;
    &lt;/population&gt;

&lt;/city&gt;
</pre>
<p>Follows the description of all bracket attributes.
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ddddff;"> Attribute Name
</th>
<th style="background:#ddddff;"> Value Type
</th>
<th style="background:#ddddff;"> Description
</th></tr>
<tr>
<td class="inlxml"> <b>beginAge</b>
</td>
<td> Integer
</td>
<td> Beginning age of the interval (incl.). If this is not the first bracket, this age is greater or equal to the previous bracket's ending age
</td></tr>
<tr>
<td class="inlxml"> <b>endAge</b>
</td>
<td> Integer
</td>
<td> End age of the interval (excl.). This age is greater to the current bracket's Beginning age
</td></tr>
<tr>
<td class="inlxml"> <b>peopleNbr</b>
</td>
<td> Integer
</td>
<td> Number of people in the interval age of the bracket ([beginAge,endAge)). This is an relative value, it will be normalized with the number of inhabitants of the city
</td></tr></table>
<h3><span class="mw-headline" id="Work_Hours">Work Hours</span></h3>
<p>We need to specify the opening and closing hours of all city's work positions.
</p>
<pre class="xml">
&lt;city&gt;
    &lt;general ... /&gt;
    &lt;parameters ... /&gt;
    &lt;population&gt; &lt;bracket ... /&gt; ... &lt;/population&gt;

    &lt;workHours&gt;
        &lt;opening hour=&quot;30600&quot; proportion=&quot;0.30&quot; /&gt;
         ...
        &lt;closing hour=&quot;43200&quot; proportion=&quot;0.20&quot; /&gt;
         ...
    &lt;/workHours&gt;

&lt;/city&gt;
</pre>
<p>Here are descriptions of all attributes of opening and closing elements:
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ddddff;"> Attribute Name
</th>
<th style="background:#ddddff;"> Value Type
</th>
<th style="background:#ddddff;"> Description
</th></tr>
<tr>
<td class="inlxml"> <b>hour</b>
</td>
<td> Integer(sec)
</td>
<td> Possible beginning or ending time of work.
</td></tr>
<tr>
<td class="inlxml"> <b>proportion</b>
</td>
<td> Float
</td>
<td> Proportion of work positions having this time as a beginning (resp. end) hour. It's a relative value: the probability of occurrence is computed by normalizing all opening (resp. closing) proportion values by one.
</td></tr></table>
<h3><span class="mw-headline" id="Population_and_Work_Position_Distribution">Population and Work Position Distribution</span></h3>
<p>Now, we have to specify the density of people and work in each street of the city. (by street I meant edges which are even more precise)
</p>
<pre class="xml">
&lt;city&gt;
    &lt;general ... /&gt;
    &lt;parameters ... /&gt;
    &lt;population&gt; &lt;bracket ... /&gt; ... &lt;/population&gt;
    &lt;workHours&gt; &lt;opening ... /&gt; ... &lt;closing ... /&gt; ... &lt;/workHours&gt;

    &lt;streets&gt;
        &lt;street edge=&quot;abc123&quot; population=&quot;2.5&quot; workPosition=&quot;10.0&quot; /&gt;
         ...
    &lt;/streets&gt;

&lt;/city&gt;
</pre>
<p>Here are the corresponding attribute descriptions:
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ddddff;"> Attribute Name
</th>
<th style="background:#ddddff;"> Value Type
</th>
<th style="background:#ddddff;"> Description
</th></tr>
<tr>
<td class="inlxml"> <b>edge</b>
</td>
<td> String
</td>
<td> Edge's id
</td></tr>
<tr>
<td class="inlxml"> <b>population</b>
</td>
<td> Float
</td>
<td> Number of people per meter street. Relative value (normalized with the total number of inhabitants)
</td></tr>
<tr>
<td class="inlxml"> <b>workPosition</b>
</td>
<td> Float
</td>
<td> Number of work positions per meter street. Relative value (normalized with the total number of city's work demand)
</td></tr></table>
<h3><span class="mw-headline" id="City_Gates">City Gates</span></h3>
<p>In order to generate incoming and outgoing traffic, we need to specify gates to the city. Every gate will generate the same number of incoming (resp. outgoing) cars (the total number divided by the number of gates).
</p>
<pre class="xml">
&lt;city&gt;
    &lt;general ... /&gt;
    &lt;parameters ... /&gt;
    &lt;population&gt; &lt;bracket ... /&gt; ... &lt;/population&gt;
    &lt;workHours&gt; &lt;opening ... /&gt; ... &lt;closing ... /&gt; ... &lt;/workHours&gt;
    &lt;streets&gt; &lt;street ... /&gt; ... &lt;/streets&gt;

    &lt;cityGates&gt;
        &lt;entrance edge=&quot;abc123&quot; pos=&quot;243.67&quot; incoming=&quot;1.5&quot; outgoing=&quot;2.2&quot;/&gt;
        &lt;entrance edge=&quot;abc234&quot; pos=&quot;0.00&quot; incoming=&quot;1.0&quot; outgoing=&quot;0.5&quot;/&gt;
         ...
    &lt;/cityGates&gt;

&lt;/city&gt;
</pre>
<p>The corresponding attribute descriptions:
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ddddff;"> Attribute Name
</th>
<th style="background:#ddddff;"> Value Type
</th>
<th style="background:#ddddff;"> Description
</th></tr>
<tr>
<td class="inlxml"> <b>edge</b>
</td>
<td> String
</td>
<td> Edge's id
</td></tr>
<tr>
<td class="inlxml"> <b>pos</b>
</td>
<td> Float (m)
</td>
<td> Exact position in the street (edge), in meters, from the beginning of the given edge (the maximum value is the length of the edge)
</td></tr>
<tr>
<td class="inlxml"> <b>incoming</b>
</td>
<td> Float
</td>
<td> Proportion of the incoming vehicles, coming through this gate (relatively to the incoming values of the other gates)
</td></tr>
<tr>
<td class="inlxml"> <b>outgoing</b>
</td>
<td> Float
</td>
<td> Proportion of the outgoing vehicles, leaving the city through this gate (relatively to the outgoing values of the other gates)
</td></tr></table>
<h3><span class="mw-headline" id="Schools">Schools</span></h3>
<p>Children don't go to work but to school. The particularity of schools is that they are exactly positioned and receive many pupils every day.
</p>
<pre class="xml">
&lt;city&gt;
    &lt;general ... /&gt;
    &lt;parameters ... /&gt;
    &lt;population&gt; &lt;bracket ... /&gt; ... &lt;/population&gt;
    &lt;workHours&gt; &lt;opening ... /&gt; ... &lt;closing ... /&gt; ... &lt;/workHours&gt;
    &lt;streets&gt; &lt;street ... /&gt; ... &lt;/streets&gt;
    &lt;cityGates&gt; &lt;entrance ... /&gt; ... &lt;/cityGates&gt;

    &lt;schools&gt;
        &lt;school edge=&quot;123abc&quot; pos=&quot;23.0&quot; beginAge=&quot;12&quot; endAge=&quot;18&quot; capacity=&quot;400&quot; opening=&quot;32400&quot; closing=&quot;64800&quot; /&gt;
         ...
    &lt;/schools&gt;

&lt;/city&gt;
</pre>
<p>The corresponding attribute descriptions:
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ddddff;"> Attribute Name
</th>
<th style="background:#ddddff;"> Value Type
</th>
<th style="background:#ddddff;"> Description
</th></tr>
<tr>
<td class="inlxml"> <b>edge</b>
</td>
<td> String
</td>
<td> Edge's id
</td></tr>
<tr>
<td class="inlxml"> <b>pos</b>
</td>
<td> Float (m)
</td>
<td> Exact position in the street (edge), in meters, from the beginning of the given edge (the maximum value is the length of the edge)
</td></tr>
<tr>
<td class="inlxml"> <b>beginAge</b>
</td>
<td> Integer
</td>
<td> Age of the youngest pupils of the school (lower bound, included in the bracket of acceptance)
</td></tr>
<tr>
<td class="inlxml"> <b>endAge</b>
</td>
<td> Integer
</td>
<td> Age of children not accepted in the school any more (higher bound, excluded from the bracket of acceptance)
</td></tr>
<tr>
<td class="inlxml"> <b>capacity</b>
</td>
<td> Integer
</td>
<td> Maximum number of pupils accepted
</td></tr>
<tr>
<td class="inlxml"> <b>opening</b>
</td>
<td> Integer (sec)
</td>
<td> Time of class beginning (school time)
</td></tr>
<tr>
<td class="inlxml"> <b>closing</b>
</td>
<td> Integer (sec)
</td>
<td> Time of class ending (home time)
</td></tr></table>
<p><br />
</p>
<h3><span class="mw-headline" id="Bus_Lines">Bus Lines</span></h3>
<p>People have a public bus line system to their disposition. This public transportation system is described by stations, different bus lines having their corresponding station for both directions and schedules.
</p>
<pre class="xml">
&lt;city&gt;
    &lt;general ... /&gt;
    &lt;parameters ... /&gt;
    &lt;population&gt; &lt;bracket ... /&gt; ... &lt;/population&gt;
    &lt;workHours&gt; &lt;opening ... /&gt; ... &lt;closing ... /&gt; ... &lt;/workHours&gt;
    &lt;streets&gt; &lt;street ... /&gt; ... &lt;/streets&gt;
    &lt;cityGates&gt; &lt;entrance ... /&gt; ... &lt;/cityGates&gt;
    &lt;schools&gt; &lt;school ... /&gt; ... &lt;/schools&gt;

    &lt;busStations&gt;
        &lt;busStation id=&quot;1&quot; edge=&quot;abc123&quot; pos=&quot;456&quot; /&gt;
        &lt;busStation id=&quot;2&quot; edge=&quot;123cba&quot; pos=&quot;324&quot; /&gt;
         ...
    &lt;/busStations&gt;

    &lt;busLines&gt;
        &lt;busLine id=&quot;601&quot; maxTripDuration=&quot;3000&quot;&gt;
            &lt;stations&gt;
                &lt;station refId=&quot;1&quot; /&gt;
                 ...
            &lt;/stations&gt;
            &lt;revStations&gt;
                &lt;station refId=&quot;2&quot; /&gt;
                 ...
            &lt;/revStations&gt;
            &lt;frequencies&gt;
                &lt;frequency begin=&quot;10000&quot; end=&quot;25000&quot; rate=&quot;1500&quot; /&gt;
                 ...
            &lt;/frequencies&gt;
        &lt;/busLine&gt;
    &lt;/busLines&gt;

&lt;/city&gt;
</pre>
<p>The corresponding attribute descriptions of all elements:
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ddddff;"> Attribute Name
</th>
<th style="background:#ddddff;"> Value Type
</th>
<th style="background:#ddddff;"> Description
</th></tr>
<tr>
<td class="inlxml"> <b>id</b>
</td>
<td> String
</td>
<td> Bus line's id
</td></tr>
<tr>
<td class="inlxml"> <b>maxTripDuration</b>
</td>
<td> Integer (sec)
</td>
<td> Maximum time needed for a bus to do the end-to-end trip.
</td></tr>
<tr>
<td class="inlxml"> <b>refId</b>
</td>
<td> Integer
</td>
<td> Reference to the id of the chosen station (refers to a busStation object's id)
</td></tr>
<tr>
<td class="inlxml"> <b>begin</b>
</td>
<td> Integer (sec)
</td>
<td> Time of the beginning of a new frequency
</td></tr>
<tr>
<td class="inlxml"> <b>end</b>
</td>
<td> Integer (sec)
</td>
<td> End time of the frequency
</td></tr>
<tr>
<td class="inlxml"> <b>rate</b>
</td>
<td> Integer (sec)
</td>
<td> Time between two buses, this is the inverse of the mathematical frequency. This bus rate is performed between the beginning and end values described above
</td></tr></table>
<h3><span class="mw-headline" id="Final_Aspect">Final Aspect</span></h3>
<p>Here is a complete example of a stat file:
</p>
<pre class="xml">
&lt;city&gt;
    &lt;general inhabitants=&quot;45774&quot; households=&quot;28200&quot; childrenAgeLimit=&quot;18&quot; retirementAgeLimit=&quot;65&quot; carRate=&quot;0.58&quot;
        unemploymentRate=&quot;0.05&quot; footDistanceLimit=&quot;500&quot; incomingTraffic=&quot;1500&quot; outgoingTraffic=&quot;3000&quot; /&gt;

    &lt;parameters carPreference=&quot;0.50&quot; meanTimePerKmInCity=&quot;360&quot; freeTimeActivityRate=&quot;0.15&quot;
        uniformRandomTraffic=&quot;0.20&quot; departureVariation=&quot;120&quot; /&gt;
	
    &lt;population&gt;
        &lt;bracket beginAge=&quot;0&quot; endAge=&quot;30&quot; peopleNbr=&quot;1765&quot; /&gt;
        &lt;bracket beginAge=&quot;30&quot; endAge=&quot;75&quot; peopleNbr=&quot;1290&quot; /&gt;
    &lt;/population&gt;

    &lt;workHours&gt;
        &lt;opening hour=&quot;30600&quot; proportion=&quot;0.30&quot; /&gt;
        &lt;opening hour=&quot;32400&quot; proportion=&quot;0.70&quot; /&gt;
        &lt;closing hour=&quot;43200&quot; proportion=&quot;0.20&quot; /&gt;
        &lt;closing hour=&quot;63000&quot; proportion=&quot;0.20&quot; /&gt;
        &lt;closing hour=&quot;64800&quot; proportion=&quot;0.60&quot; /&gt;
    &lt;/workHours&gt;

    &lt;streets&gt;
        &lt;street edge=&quot;-2779#2&quot; population=&quot;4.0&quot; workPosition=&quot;2.0&quot; /&gt;
        &lt;street edge=&quot;-2776#0&quot; population=&quot;3.5&quot; workPosition=&quot;2.5&quot; /&gt;
        &lt;street edge=&quot;-2950#15&quot; population=&quot;1.3&quot; workPosition=&quot;0&quot; /&gt;
    &lt;/streets&gt;
	
    &lt;cityGates&gt;
        &lt;entrance edge=&quot;-2950#15&quot; pos=&quot;0.0&quot; /&gt;
    &lt;/cityGates&gt;

    &lt;schools&gt;
        &lt;school edge=&quot;-2779#2&quot; pos=&quot;23&quot; beginAge=&quot;12&quot; endAge=&quot;18&quot; capacity=&quot;400&quot; opening=&quot;32400&quot; closing=&quot;64800&quot; /&gt;
        &lt;school edge=&quot;-2779#2&quot; pos=&quot;23&quot; beginAge=&quot;3&quot; endAge=&quot;12&quot; capacity=&quot;150&quot; opening=&quot;30600&quot; closing=&quot;64800&quot; /&gt;
        &lt;school edge=&quot;-2776#0&quot; pos=&quot;765&quot; beginAge=&quot;0&quot; endAge=&quot;6&quot; capacity=&quot;245&quot; opening=&quot;32400&quot; closing=&quot;61200&quot; /&gt;
    &lt;/schools&gt;
	
    &lt;busStations&gt;
        &lt;busStation id=&quot;1&quot; edge=&quot;-2779#2&quot; pos=&quot;456&quot; /&gt;
        &lt;busStation id=&quot;2&quot; edge=&quot;-2776#0&quot; pos=&quot;324&quot; /&gt;
        &lt;busStation id=&quot;3&quot; edge=&quot;-2950#15&quot; pos=&quot;233&quot; /&gt;
    &lt;/busStations&gt;

    &lt;busLines&gt;
        &lt;busLine id=&quot;601&quot; maxTripDuration=&quot;3000&quot;&gt;
            &lt;stations&gt;
                &lt;station refId=&quot;2&quot; /&gt;
                &lt;station refId=&quot;1&quot; /&gt;
            &lt;/stations&gt;
            &lt;revStations&gt;
                &lt;station refId=&quot;1&quot; /&gt;
                &lt;station refId=&quot;2&quot; /&gt;
            &lt;/revStations&gt;
            &lt;frequencies&gt;
                &lt;frequency begin=&quot;21600&quot; end=&quot;64800&quot; rate=&quot;1200&quot; /&gt;
                &lt;frequency begin=&quot;64800&quot; end=&quot;84600&quot; rate=&quot;1800&quot; /&gt;
            &lt;/frequencies&gt;
        &lt;/busLine&gt;
    &lt;/busLines&gt;
&lt;/city&gt;
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Activities">Activities</span></h2>
<p>ActivityGen takes into account two groups of activities, which are considered as most traffic-relevant: <b>Work And School</b> and <b>Free Time</b>. The activities within each group follow the same statistical rules.
</p>
<h3><span class="mw-headline" id="Work_and_School_Activities">Work and School Activities</span></h3>
<p>This aggregate of activities contains the following activities:
</p>
<ol><li> Going to work for adults (not retired), and</li>
<li> Going to school for children.</li></ol>
<p>That implies trips from home to work and the return trip for the drivers.
</p>
<h3><span class="mw-headline" id="Free_Time_Activities">Free Time Activities</span></h3>
<p>This aggregate of activities contains the following activities:
</p>
<ol><li> Going out during the day (for retired or unemployed people)</li>
<li> Going out in the evening (for all people who finished their <i>work activity</i> not <i>too late</i>)</li>
<li> Going out late in the evening or in the night (for not retired adults having no children)</li></ol>
<p>This <i>activity</i> is supposed to cover all car uses for:
</p>
<ul><li> Going out see friends</li>
<li> Doing sport</li>
<li> Visiting family</li>
<li> Party</li></ul>
<p>Activity locations are randomized for this purpose.
</p>
<h3><span class="mw-headline" id="Traffic_which_is_not_covered_by_Activitygen">Traffic which is not covered by Activitygen</span></h3>
<ul><li> Through traffic from outside the city to outside the city</li>
<li> Business traffic (delivery service, logistics, ...)</li>
<li> Tourist traffic</li>
<li> Special event traffic</li></ul>
<p>To some extend this can be mitigated by adding <span class="inlxml">uniformRandomTraffic</span>.
</p>
<h2><span class="mw-headline" id="Transportation_Means">Transportation Means</span></h2>
<p>The population is distributed according to the statistics into households located in streets. People are likely to use different means of transportation in relation to their location, the availability of the different means and their destination. Three kind of Means are used in ActivityGen:<b>
</p>
<ul><li> Feet or bike</li>
<li> Buses</li>
<li> Cars</li></ul>
<p></b>
</p><p>All of them have their own possibilities and availability characteristics:
</p>
<h3><span class="mw-headline" id="Feet_or_Bike">Feet or Bike</span></h3>
<p>Trips by foot are available only for very short distances. But in this case, the person is very likely to go by foot.
The bike isn't really used (buses and cars are preferred), it is supposed to serve in cases where none of the three means (Feet, buses and cars) are not available
</p>
<h3><span class="mw-headline" id="Buses">Buses</span></h3>
<p>Bus stations are located in the city corresponding to the real bus line network given in input (statistical data over the city). Someone enough close to a bus station and whose destination is enough close to another bus station is eligible for the public transportation means.
</p>
<h3><span class="mw-headline" id="Cars">Cars</span></h3>
<p>Householders having one or more cars can drive (not children) or be accompanied (escorted) by another adult who needs a car too. Children can only be accompanied (to school for example).
Some households have no car, in this case they have to live enough close to a bus station. In the case of having a destination far from any bus station, they can go by foot or ride a bike. But this case doesn't generated any motorized vehicle traffic.
</p>
<h2><span class="mw-headline" id="Limitations">Limitations</span></h2>
<p>SUMO has a <a href="../Specification/Persons.html" title="Specification/Persons">detailed model for individual multi-modal transport itineraries</a>. Since 0.26.0 multi-modal routing with public and individual transport modes is supported as well.
However, <a href="../ACTIVITYGEN.html" title="ACTIVITYGEN">ACTIVITYGEN</a> does not make use of these facilities. In <a href="../ACTIVITYGEN.html" title="ACTIVITYGEN">ACTIVITYGEN</a>
</p>
<ul><li> Buses are generated according to the bus schedule. People using buses do not show up in the simulation. </li>
<li> According to some distance criteria between locations and bus stations, fewer care trips are generated since people are assumed to take the bus. Public transport travel times are not considered.-</li></ul>

<!-- 
NewPP limit report
CPU time usage: 0.152 seconds
Real time usage: 0.154 seconds
Preprocessor visited node count: 171/1000000
Preprocessor generated node count: 294/1000000
Post‐expand include size: 48/2097152 bytes
Template argument size: 20/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    3.044      1 - -total
100.00%    3.044      1 - Template:XML
-->

<!-- Saved in parser cache with key sumoSimWiki:pcache:idhash:338-0!*!0!!en!5!* and timestamp 20160726075450 and revision id 7604
 -->
</div>									</div><hr/><div id="lastmod">This page was last modified on 7 July 2016, at 09:27.</div> </div>

    <div id="footer">
      <div>
        (c) 2011-2013, German Aerospace Center, Institute of
        Transportation Systems
      </div>

      <div>
        Layout based on <a href=
        "http://www.oswd.org/design/preview/id/3365">"Three
        Quarters"</a> by "SimplyGold"
      </div>
    </div>
  </div>
</body>
</html>
